!function(e,t,i){"use strict";"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define("factory",function(){return i()}):e[t]=i()}(window,"detectZoom",function(){var e,t=function(){return window.devicePixelRatio||1},i=function(){var e=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}},n=function(){var e=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}},s=function(){var e=(90==Math.abs(window.orientation)?screen.height:screen.width)/window.innerWidth;return{zoom:e,devicePxPerCssPx:e*t()}},o=function(){var e=function(e){return e.replace(/;/g," !important;")},i=document.createElement("div");i.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",i.setAttribute("style",e("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var n=document.createElement("div");n.setAttribute("style",e("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),n.appendChild(i),document.body.appendChild(n);var s=1e3/i.clientHeight;return s=Math.round(100*s)/100,document.body.removeChild(n),{zoom:s,devicePxPerCssPx:s*t()}},r=function(){var e=d("min--moz-device-pixel-ratio","",0,10,20,1e-4);return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e}},a=function(){return{zoom:r().zoom,devicePxPerCssPx:t()}},l=function(){var e=window.top.outerWidth/window.top.innerWidth;return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e*t()}},d=function(e,t,i,n,s,o){var r,a,l,d;window.matchMedia?r=window.matchMedia:(a=document.getElementsByTagName("head")[0],l=document.createElement("style"),a.appendChild(l),(d=document.createElement("div")).className="mediaQueryBinarySearch",d.style.display="none",document.body.appendChild(d),r=function(e){l.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(d,null).textDecoration;return l.sheet.deleteRule(0),{matches:t}});var c=function i(n,s,a){var l=(n+s)/2;if(a<=0||s-n<o)return l;var d="("+e+":"+l+t+")";return r(d).matches?i(l,s,a-1):i(n,l,a-1)}(i,n,s);return d&&(a.removeChild(l),document.body.removeChild(d)),c},c=(e=function(){return{zoom:1,devicePxPerCssPx:1}},isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=n:"orientation"in window&&"string"==typeof document.body.style.webkitMarquee?e=s:"string"==typeof document.body.style.webkitMarquee?e=o:navigator.userAgent.indexOf("Opera")>=0?e=l:window.devicePixelRatio?e=a:r().zoom>.001&&(e=r):e=i,e);return{zoom:function(){return c().zoom},device:function(){return c().devicePxPerCssPx}}});var wpcom_img_zoomer={clientHintSupport:{gravatar:!1,files:!1,photon:!1,mshots:!1,staticAssets:!1,latex:!1,imgpress:!1},useHints:!1,zoomed:!1,timer:null,interval:1e3,imgNeedsSizeAtts:function(e){return null===e.getAttribute("width")&&null===e.getAttribute("height")&&!(e.width<e.naturalWidth||e.height<e.naturalHeight)},hintsFor:function(e){return!1!==this.useHints&&(!1!==this.hints()&&(void 0!==this.clientHintSupport[e]&&!0===this.clientHintSupport[e]))},hints:function(){try{var e=window.navigator.userAgent.match(/\sChrome\/([0-9]+)\.[.0-9]+\s/);if(null!==e){var t=parseInt(e[1],10);if(!1===isNaN(t)&&t>=46)return!0}}catch(e){return!1}return!1},init:function(){var e=this;try{e.zoomImages(),e.timer=setInterval(function(){e.zoomImages()},e.interval)}catch(e){}},stop:function(){this.timer&&clearInterval(this.timer)},getScale:function(){var e=detectZoom.device();return e=e<=1?1:e<=1.5?1.5:e<=2?2:e<=3?3:e<=4?4:5},shouldZoom:function(e){return!("innerWidth"in window&&!window.innerWidth)&&(1!=e||0!=this.zoomed)},zoomImages:function(){var e=this,t=e.getScale();if(e.shouldZoom(t)){e.zoomed=!0;for(var i=document.getElementsByTagName("img"),n=0;n<i.length;n++)if((!("complete"in i[n])||i[n].complete)&&!i[n].hasAttribute("srcset")){var s=i[n].getAttribute("scale");if(s!=t&&"0"!=s){var o=i[n].getAttribute("scale-fail");o&&o<=t||i[n].width&&i[n].height&&(!s&&i[n].getAttribute("data-lazy-src")&&i[n].getAttribute("data-lazy-src")!==i[n].getAttribute("src")||(e.scaleImage(i[n],t)?i[n].setAttribute("scale",t):i[n].setAttribute("scale","0")))}}}},scaleImage:function(e,t){var i=this,n=e.src,s=!1,o=!1,r=!1;if(e.parentNode.className.match(/slideshow-slide/))return!1;if(e.parentNode.className.match(/coblocks-lightbox__image/))return!1;if(e.src.match(/^https?:\/\/([^\/]*\.)?gravatar\.com\/.+[?&](s|size)=/)){if(!0===this.hintsFor("gravatar"))return!1;n=e.src.replace(/([?&](s|size)=)(\d+)/,function(n,s,o,r){var a=e.getAttribute("originals");null===a&&(a=r,e.setAttribute("originals",a),i.imgNeedsSizeAtts(e)&&(e.width=e.width,e.height=e.height));e.clientWidth;var l=Math.ceil(e.clientWidth*t);return l=Math.max(l,a),s+(l=Math.min(l,512))})}else if(e.src.match(/^https?:\/\/([^\/]+\.)*(wordpress|wp)\.com\/mshots\/.+[?&]w=\d+/)){if(!0===this.hintsFor("mshots"))return!1;n=(n=e.src.replace(/([?&]w=)(\d+)/,function(n,s,o){var r=e.getAttribute("originalw");null===r&&(r=o,e.setAttribute("originalw",r),i.imgNeedsSizeAtts(e)&&(e.width=e.width,e.height=e.height));var a=e.clientWidth,l=Math.ceil(a*t);return l=Math.max(l,r),t>e.getAttribute("scale")&&l<=e.naturalWidth&&(l=o),o!=l?s+l:n})).replace(/([?&]h=)(\d+)/,function(i,s,o){if(n==e.src)return i;var r=e.getAttribute("originalh");null===r&&(r=o,e.setAttribute("originalh",r));var a=e.clientHeight,l=Math.ceil(a*t);return l=Math.max(l,r),t>e.getAttribute("scale")&&l<=e.naturalHeight&&(l=o),o!=l?s+l:i})}else if(e.src.match(/^https?:\/\/([^\/.]+\.)*(wp|wordpress)\.com\/imgpress\?(.+)/)){if(!0===this.hintsFor("imgpress"))return!1;var a=["zoom","url","h","w","fit","filter","brightness","contrast","colorize","smooth","unsharpmask"],l=RegExp.$3.split("&");for(var d in l)if(d=l[d].split("=")[0],-1==a.indexOf(d))return!1;e.width=e.width,e.height=e.height,n=1==t?e.src.replace(/\?(zoom=[^&]+&)?/,"?"):e.src.replace(/\?(zoom=[^&]+&)?/,"?zoom="+t+"&")}else if((s=e.src.match(/^https?:\/\/([^\/]+)\.files\.wordpress\.com\/.+[?&][wh]=/))||(o=e.src.match(/^https?:\/\/([^\/.]+\.)*(wp|wordpress)\.com\/latex\.php\?(latex|zoom)=(.+)/))||(r=e.src.match(/^https?:\/\/i[\d]{1}\.wp\.com\/(.+)/))){if(!1!==s&&!0===this.hintsFor("files"))return!1;if(!1!==o&&!0===this.hintsFor("latex"))return!1;if(!1!==r&&!0===this.hintsFor("photon"))return!1;if(e.width=e.width,e.height=e.height,1==t)n=e.src.replace(/\?(zoom=[^&]+&)?/,"?");else{var c=(n=e.src).match(/([?&]w=)(\d+)/);null!==c&&c[2]&&(n=n.replace(c[0],c[1]+e.width)),null!==(c=n.match(/([?&]h=)(\d+)/))&&c[2]&&(n=n.replace(c[0],c[1]+e.height));var h="&zoom=2";n.match(/\?/)||(h="?zoom=2"),e.setAttribute("srcset",n+h+" "+t+"x")}}else{if(!e.src.match(/^https?:\/\/[^\/]+\/.*[-@]([12])x\.(gif|jpeg|jpg|png)(\?|$)/))return!1;if(!0===this.hintsFor("staticAssets"))return!1;e.width=e.width,e.height=e.height;var u=RegExp.$1,p=u;u!=(p=t<=1?1:2)&&(n=e.src.replace(/([-@])[12]x\.(gif|jpeg|jpg|png)(\?|$)/,"$1"+p+"x.$2$3"))}if(n!=e.src){var f,g=e.getAttribute("src-orig");g||(g=e.src,e.setAttribute("src-orig",g)),f=e.src,e.onerror=function(){e.src=f,e.getAttribute("scale-fail")<t&&e.setAttribute("scale-fail",t),e.onerror=null},e.src=n}return!0}};wpcom_img_zoomer.init(),function(e,t){var i=function(e,t){"use strict";if(t.getElementsByClassName){var i,n,s,o,r,a,l,d,c,h=t.documentElement,u=e.Date,p=e.HTMLPictureElement,f="addEventListener",g="getAttribute",m=e[f],v=e.setTimeout,y=e.requestAnimationFrame||v,w=e.requestIdleCallback,b=/^picture$/i,_=["load","error","lazyincluded","_lazyloaded"],k={},S=Array.prototype.forEach,T=function(e,t){return k[t]||(k[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),k[t].test(e[g]("class")||"")&&k[t]},C=function(e,t){T(e,t)||e.setAttribute("class",(e[g]("class")||"").trim()+" "+t)},x=function(e,t){var i;(i=T(e,t))&&e.setAttribute("class",(e[g]("class")||"").replace(i," "))},$=function(e,t,i){var n=i?f:"removeEventListener";i&&$(e,t),_.forEach(function(i){e[n](i,t)})},A=function(e,n,s,o,r){var a=t.createEvent("Event");return s||(s={}),s.instance=i,a.initEvent(n,!o,!r),a.detail=s,e.dispatchEvent(a),a},E=function(t,i){var s;!p&&(s=e.picturefill||n.pf)?(i&&i.src&&!t[g]("srcset")&&t.setAttribute("srcset",i.src),s({reevaluate:!0,elements:[t]})):i&&i.src&&(t.src=i.src)},P=function(e,t){return(getComputedStyle(e,null)||{})[t]},I=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},z=(a=[],l=r=[],(c=function(e,i){s&&!i?e.apply(this,arguments):(l.push(e),o||(o=!0,(t.hidden?v:y)(d)))})._lsFlush=d=function(){var e=l;for(l=r.length?a:r,o=!(s=!0);e.length;)e.shift()();s=!1},c),M=function(e,t){return t?function(){z(e)}:function(){var t=this,i=arguments;z(function(){e.apply(t,i)})}},H=function(e){var t,i,n=function(){t=null,e()},s=function(){var e=u.now()-i;e<99?v(s,99-e):(w||n)(n)};return function(){i=u.now(),t||(t=v(s,99))}};!function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in n=e.lazySizesConfig||e.lazysizesConfig||{},i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,v(function(){n.init&&Te()})}();var j,O,L,R,D,N,B,W,U,F,q,G,V,Q,X,Y,J,K,Z,ee,te,ie,ne,se,oe,re,ae,le,de,ce,he,ue,pe,fe,ge,me,ve,ye,we,be,_e,ke=(se=/^img$/i,oe=/^iframe$/i,re="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),ae=0,le=0,de=-1,ce=function(e){le--,(!e||le<0||!e.target)&&(le=0)},he=function(e){return null==Y&&(Y="hidden"==P(t.body,"visibility")),Y||"hidden"!=P(e.parentNode,"visibility")&&"hidden"!=P(e,"visibility")},ue=function(e,i){var n,s=e,o=he(e);for(G-=i,X+=i,V-=i,Q+=i;o&&(s=s.offsetParent)&&s!=t.body&&s!=h;)(o=0<(P(s,"opacity")||1))&&"visible"!=P(s,"overflow")&&(n=s.getBoundingClientRect(),o=Q>n.left&&V<n.right&&X>n.top-1&&G<n.bottom+1);return o},J=pe=function(){var e,s,o,r,a,l,d,c,u,p,f,m,v=i.elements;if((W=n.loadMode)&&le<8&&(e=v.length)){for(s=0,de++,p=!n.expand||n.expand<1?500<h.clientHeight&&500<h.clientWidth?500:370:n.expand,i._defEx=p,f=p*n.expFactor,m=n.hFac,Y=null,ae<f&&le<1&&2<de&&2<W&&!t.hidden?(ae=f,de=0):ae=1<W&&1<de&&le<6?p:0;s<e;s++)if(v[s]&&!v[s]._lazyRace)if(re)if((c=v[s][g]("data-expand"))&&(l=1*c)||(l=ae),u!==l&&(F=innerWidth+l*m,q=innerHeight+l,d=-1*l,u=l),o=v[s].getBoundingClientRect(),(X=o.bottom)>=d&&(G=o.top)<=q&&(Q=o.right)>=d*m&&(V=o.left)<=F&&(X||Q||V||G)&&(n.loadHidden||he(v[s]))&&(N&&le<3&&!c&&(W<3||de<4)||ue(v[s],l))){if(be(v[s]),a=!0,9<le)break}else!a&&N&&!r&&le<4&&de<4&&2<W&&(D[0]||n.preloadAfterLoad)&&(D[0]||!c&&(X||Q||V||G||"auto"!=v[s][g](n.sizesAttr)))&&(r=D[0]||v[s]);else be(v[s]);r&&!a&&be(r)}},Z=0,ee=n.throttleDelay,te=n.ricTimeout,ie=function(){K=!1,Z=u.now(),J()},ne=w&&49<te?function(){w(ie,{timeout:te}),te!==n.ricTimeout&&(te=n.ricTimeout)}:M(function(){v(ie)},!0),fe=function(e){var t;(e=!0===e)&&(te=33),K||(K=!0,(t=ee-(u.now()-Z))<0&&(t=0),e||t<9?ne():v(ne,t))},me=M(ge=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(ce(e),C(t,n.loadedClass),x(t,n.loadingClass),$(t,ve),A(t,"lazyloaded"))}),ve=function(e){me({target:e.target})},ye=function(e){var t,i=e[g](n.srcsetAttr);(t=n.customMedia[e[g]("data-media")||e[g]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},we=M(function(e,t,i,s,o){var r,a,l,d,c,h;(c=A(e,"lazybeforeunveil",t)).defaultPrevented||(s&&(i?C(e,n.autosizesClass):e.setAttribute("sizes",s)),a=e[g](n.srcsetAttr),r=e[g](n.srcAttr),o&&(d=(l=e.parentNode)&&b.test(l.nodeName||"")),h=t.firesLoad||"src"in e&&(a||r||d),c={target:e},C(e,n.loadingClass),h&&(clearTimeout(B),B=v(ce,2500),$(e,ve,!0)),d&&S.call(l.getElementsByTagName("source"),ye),a?e.setAttribute("srcset",a):r&&!d&&(oe.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}}(e,r):e.src=r),o&&(a||d)&&E(e,{src:r})),e._lazyRace&&delete e._lazyRace,x(e,n.lazyClass),z(function(){var t=e.complete&&1<e.naturalWidth;h&&!t||(t&&C(e,"ls-is-cached"),ge(c),e._lazyCache=!0,v(function(){"_lazyCache"in e&&delete e._lazyCache},9))},!0)}),_e=function(){if(!N)if(u.now()-U<999)v(_e,999);else{var e=H(function(){n.loadMode=3,fe()});N=!0,n.loadMode=3,fe(),m("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}},{_:function(){U=u.now(),i.elements=t.getElementsByClassName(n.lazyClass),D=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),m("scroll",fe,!0),m("resize",fe,!0),e.MutationObserver?new MutationObserver(fe).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[f]("DOMNodeInserted",fe,!0),h[f]("DOMAttrModified",fe,!0),setInterval(fe,999)),m("hashchange",fe,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[f](e,fe,!0)}),/d$|^c/.test(t.readyState)?_e():(m("load",_e),t[f]("DOMContentLoaded",fe),v(_e,2e4)),i.elements.length?(pe(),z._lsFlush()):fe()},checkElems:fe,unveil:be=function(e){var t,i=se.test(e.nodeName),s=i&&(e[g](n.sizesAttr)||e[g]("sizes")),o="auto"==s;(!o&&N||!i||!e[g]("src")&&!e.srcset||e.complete||T(e,n.errorClass)||!T(e,n.lazyClass))&&(t=A(e,"lazyunveilread").detail,o&&Se.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,le++,we(e,t,o,s,i))}}),Se=(O=M(function(e,t,i,n){var s,o,r;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),b.test(t.nodeName||""))for(o=0,r=(s=t.getElementsByTagName("source")).length;o<r;o++)s[o].setAttribute("sizes",n);i.detail.dataAttr||E(e,i.detail)}),L=function(e,t,i){var n,s=e.parentNode;s&&(i=I(e,s,i),(n=A(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&O(e,s,n,i))},{_:function(){j=t.getElementsByClassName(n.autosizesClass),m("resize",R)},checkElems:R=H(function(){var e,t=j.length;if(t)for(e=0;e<t;e++)L(j[e])}),updateElem:L}),Te=function(){Te.i||(Te.i=!0,Se._(),ke._())};return i={cfg:n,autoSizer:Se,loader:ke,init:Te,uP:E,aC:C,rC:x,hC:T,fire:A,gW:I,rAF:z}}}(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t,i=window.Slick||{};t=0,(i=function(i,n){var s,o,r,a=this;if(a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(i),appendDots:e(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.hidden="hidden",a.paused=!1,a.positionProp=null,a.respondTo=null,a.rowCount=1,a.shouldClick=!0,a.$slider=e(i),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,s=e(i).data("slick")||{},a.options=e.extend({},a.defaults,s,n),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,(o=a.options.responsive||null)&&-1<o.length){for(r in a.respondTo=a.options.respondTo||"window",o)o.hasOwnProperty(r)&&(a.breakpoints.push(o[r].breakpoint),a.breakpointSettings[o[r].breakpoint]=o[r].settings);a.breakpoints.sort(function(e,t){return!0===a.options.mobileFirst?e-t:t-e})}void 0!==document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=e.proxy(a.autoPlay,a),a.autoPlayClear=e.proxy(a.autoPlayClear,a),a.changeSlide=e.proxy(a.changeSlide,a),a.clickHandler=e.proxy(a.clickHandler,a),a.selectHandler=e.proxy(a.selectHandler,a),a.setPosition=e.proxy(a.setPosition,a),a.swipeHandler=e.proxy(a.swipeHandler,a),a.dragHandler=e.proxy(a.dragHandler,a),a.keyHandler=e.proxy(a.keyHandler,a),a.autoPlayIterator=e.proxy(a.autoPlayIterator,a),a.instanceUid=t++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.init(!0),a.checkResponsive(!0)}).prototype.addSlide=i.prototype.slickAdd=function(t,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):n?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):!0===n?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},i.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},i.prototype.animateSlide=function(t,i){var n={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(t=-t),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),!1===s.options.vertical?n[s.animType]="translate("+e+"px, 0px)":n[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(n)},complete:function(){i&&i.call()}})):(s.applyTransition(),t=Math.ceil(t),!1===s.options.vertical?n[s.animType]="translate3d("+t+"px, 0px, 0px)":n[s.animType]="translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},i.prototype.asNavFor=function(t){var i=this.options.asNavFor;i&&null!==i&&(i=e(i).not(this.$slider)),null!==i&&"object"==typeof i&&i.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},i.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},i.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},i.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},i.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},i.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled"))},i.prototype.buildDots=function(){var t,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},i.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),!0===t.options.accessibility&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},i.prototype.buildRows=function(){var e,t,i,n,s,o,r,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),1<a.options.rows){for(r=a.options.slidesPerRow*a.options.rows,s=Math.ceil(o.length/r),e=0;e<s;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var d=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=e*r+(t*a.options.slidesPerRow+i);o.get(c)&&d.appendChild(o.get(c))}l.appendChild(d)}n.appendChild(l)}a.$slider.html(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},i.prototype.checkResponsive=function(t){var i,n,s,o=this,r=!1,a=o.$slider.width(),l=window.innerWidth||e(window).width();if("window"===o.respondTo?s=l:"slider"===o.respondTo?s=a:"min"===o.respondTo&&(s=Math.min(l,a)),o.originalSettings.responsive&&-1<o.originalSettings.responsive.length&&null!==o.originalSettings.responsive){for(i in n=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?s<o.breakpoints[i]&&(n=o.breakpoints[i]):s>o.breakpoints[i]&&(n=o.breakpoints[i]));null!==n?null!==o.activeBreakpoint?n!==o.activeBreakpoint&&(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[n]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),r=n):(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[n]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),r=n):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),r=n),t||!1===r||o.$slider.trigger("breakpoint",[o,r])}},i.prototype.changeSlide=function(t,i){var n,s,o=this,r=e(t.target);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),n=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,t.data.message){case"previous":s=0===n?o.options.slidesToScroll:o.options.slidesToShow-n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-s,!1,i);break;case"next":s=0===n?o.options.slidesToScroll:n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+s,!1,i);break;case"index":var a=0===t.data.index?0:t.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(a),!1,i),r.children().trigger("focus");break;default:return}},i.prototype.checkNavigable=function(e){var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},i.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide),!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&e("li",t.$dots).off("mouseenter.slick",e.proxy(t.setPaused,t,!0)).off("mouseleave.slick",e.proxy(t.setPaused,t,!1))),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.setPaused,t,!1)),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},i.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.html(e))},i.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},i.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&"object"!=typeof i.options.prevArrow&&i.$prevArrow.remove(),i.$nextArrow&&"object"!=typeof i.options.nextArrow&&i.$nextArrow.remove(),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},i.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},i.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},i.prototype.filterSlides=i.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},i.prototype.getCurrent=i.prototype.slickCurrentSlide=function(){return this.currentSlide},i.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},i.prototype.getLeft=function(e){var t,i,n,s=this,o=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(),!0===s.options.infinite?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=i*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!=0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,o=(s.options.slidesToShow-(e-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,o=s.slideCount%s.options.slidesToScroll*i*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,o=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(o=s.slideOffset=0),!0===s.options.centerMode&&!0===s.options.infinite?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:!0===s.options.centerMode&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=!1===s.options.vertical?e*s.slideWidth*-1+s.slideOffset:e*i*-1+o,!0===s.options.variableWidth&&(t=(n=s.slideCount<=s.options.slidesToShow||!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===s.options.centerMode&&(t=(n=!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(s.$list.width()-n.outerWidth())/2)),t},i.prototype.getOption=i.prototype.slickGetOption=function(e){return this.options[e]},i.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,s=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);i<e;)s.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return s},i.prototype.getSlick=function(){return this},i.prototype.getSlideCount=function(){var t,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(s,o){if(o.offsetLeft-i+e(o).outerWidth()/2>-1*n.swipeLeft)return t=o,!1}),Math.abs(e(t).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},i.prototype.goTo=i.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},i.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),t&&i.$slider.trigger("init",[i])},i.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},i.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.setPaused,t,!0)).on("mouseleave.slick",e.proxy(t.setPaused,t,!1))},i.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.setPaused,t,!1)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},i.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},i.prototype.keyHandler=function(e){37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}})},i.prototype.lazyLoad=function(){var t,i,n=this;function s(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:1},200)},n.src=i,t.css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}!0===n.options.centerMode?!0===n.options.infinite?i=(t=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(t=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),i=n.options.slidesToShow/2+1+2+n.currentSlide):(i=(t=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide)+n.options.slidesToShow,!0===n.options.fade&&(0<t&&t--,i<=n.slideCount&&i++)),s(n.$slider.find(".slick-slide").slice(t,i)),n.slideCount<=n.options.slidesToShow?s(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?s(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&s(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},i.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},i.prototype.next=i.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},i.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},i.prototype.pause=i.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},i.prototype.play=i.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},i.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay()},i.prototype.prev=i.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},i.prototype.preventDefault=function(e){e.preventDefault()},i.prototype.progressiveLazyLoad=function(){var t,i=this;0<e("img[data-lazy]",i.$slider).length&&(t=e("img[data-lazy]",i.$slider).first()).attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad(),!0===i.options.adaptiveHeight&&i.setPosition()}).error(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad()})},i.prototype.refresh=function(t){var i=this,n=i.currentSlide;i.destroy(!0),e.extend(i,i.initials),i.init(),t||i.changeSlide({data:{message:"index",index:n}},!1)},i.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t])},i.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},i.prototype.removeSlide=i.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},i.prototype.setCSS=function(e){var t,i,n=this,s={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",s[n.positionProp]=e,!1===n.transformsEnabled||(!(s={})===n.cssTransitions?s[n.animType]="translate("+t+", "+i+")":s[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(s)},i.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},i.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,s){t=i.slideWidth*n*-1,!0===i.options.rtl?e(s).css({position:"relative",right:t,top:0,zIndex:800,opacity:0}):e(s).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},i.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},i.prototype.setOption=i.prototype.slickSetOption=function(e,t,i){this.options[e]=t,!0===i&&(this.unload(),this.reinit())},i.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},i.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},i.prototype.setSlideClasses=function(e){var t,i,n,s,o=this;o.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=o.$slider.find(".slick-slide"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t<=e&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(s=o.slideCount%o.options.slidesToShow,n=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-s),n+s).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},i.prototype.setupInfinite=function(){var t,i,n,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-n;t-=1)i=t-1,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;t<n;t+=1)i=t,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},i.prototype.setPaused=function(e){var t=this;!0===t.options.autoplay&&!0===t.options.pauseOnHover&&((t.paused=e)?t.autoPlayClear():t.autoPlay())},i.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),s=parseInt(n.attr("data-slick-index"));if(s||(s=0),i.slideCount<=i.options.slidesToShow)return i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),i.$slides.eq(s).addClass("slick-active").attr("aria-hidden","false"),!0===i.options.centerMode&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(s).addClass("slick-center")),void i.asNavFor(s);i.slideHandler(s)},i.prototype.slideHandler=function(e,t,i){var n,s,o,r,a=this;if(t=t||!1,(!0!==a.animating||!0!==a.options.waitForAnimate)&&!(!0===a.options.fade&&a.currentSlide===e||a.slideCount<=a.options.slidesToShow))if(!1===t&&a.asNavFor(e),n=e,r=a.getLeft(n),o=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?o:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(e<0||e>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(n=a.currentSlide,!0!==i?a.animateSlide(o,function(){a.postSlide(n)}):a.postSlide(n));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(e<0||e>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(n=a.currentSlide,!0!==i?a.animateSlide(o,function(){a.postSlide(n)}):a.postSlide(n));else{if(!0===a.options.autoplay&&clearInterval(a.autoPlayTimer),s=n<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+n:n>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:n-a.slideCount:n,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==i?a.fadeSlide(s,function(){a.postSlide(s)}):a.postSlide(s),void a.animateHeight();!0!==i?a.animateSlide(r,function(){a.postSlide(s)}):a.postSlide(s)}},i.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},i.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n?!1===s.options.rtl?"left":"right":n<=360&&315<=n?!1===s.options.rtl?"left":"right":135<=n&&n<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?35<=n&&n<=135?"left":"right":"vertical"},i.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},i.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},i.prototype.swipeMove=function(e){var t,i,n,s,o,r=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!r.dragging||o&&1!==o.length)&&(t=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,r.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),!0===r.options.verticalSwiping&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),"vertical"!==(i=r.swipeDirection())?(void 0!==e.originalEvent&&4<r.touchObject.swipeLength&&e.preventDefault(),s=(!1===r.options.rtl?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),!0===r.options.verticalSwiping&&(s=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,(r.touchObject.edgeHit=!1)===r.options.infinite&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),!1===r.options.vertical?r.swipeLeft=t+n*s:r.swipeLeft=t+n*(r.$list.height()/r.listWidth)*s,!0===r.options.verticalSwiping&&(r.swipeLeft=t+n*s),!0!==r.options.fade&&!1!==r.options.touchMove&&(!0===r.animating?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))):void 0)},i.prototype.swipeStart=function(e){var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},i.prototype.unfilterSlides=i.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},i.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},i.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},i.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},i.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},i.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):!0===e.options.autoplay&&(e.paused=!1,e.autoPlay())},e.fn.slick=function(){for(var e,t=this,n=arguments[0],s=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;r++)if("object"==typeof n||void 0===n?t[r].slick=new i(t[r],n):e=t[r].slick[n].apply(t[r].slick,s),void 0!==e)return e;return t}}),function(e,t,i){"use strict";var n=e(t),s=t.document,o=e(s),r=function(){for(var e=3,t=s.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:void 0}(),a=function(){var e=t.pageXOffset!==i?t.pageXOffset:"CSS1Compat"==s.compatMode?t.document.documentElement.scrollLeft:t.document.body.scrollLeft,n=t.pageYOffset!==i?t.pageYOffset:"CSS1Compat"==s.compatMode?t.document.documentElement.scrollTop:t.document.body.scrollTop;void 0===a.x&&(a.x=e,a.y=n),void 0===a.distanceX?(a.distanceX=e,a.distanceY=n):(a.distanceX=e-a.x,a.distanceY=n-a.y);var o=a.x-e,r=a.y-n;a.direction=o<0?"right":0<o?"left":r<=0?"down":0<r?"up":"first",a.x=e,a.y=n};n.on("scroll",a),e.fn.style=function(i){if(!i)return null;var n,o=e(this),r=o.clone().css("display","none");r.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1)),o.after(r);var a=function(e,i){var n;return e.currentStyle?n=e.currentStyle[i.replace(/-\w/g,function(e){return e.toUpperCase().replace("-","")})]:t.getComputedStyle&&(n=s.defaultView.getComputedStyle(e,null).getPropertyValue(i)),/margin/g.test(i)?parseInt(n)===o[0].offsetLeft?n:"auto":n};return"string"==typeof i?n=a(r[0],i):(n={},e.each(i,function(e,t){n[t]=a(r[0],t)})),r.remove(),n||null},e.fn.extend({hcSticky:function(s){return 0==this.length?this:(this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,offResolutions:null,onStart:e.noop,onStop:e.noop,on:!0,fn:null},s||{},{reinit:function(){e(this).hcSticky()},stop:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),i=t.pluginOptions("hcSticky"),n=t.parent("."+i.wrapperClassName),s=t.offset().top-n.offset().top;t.css({position:"absolute",top:s,bottom:"auto",left:"auto",right:"auto"}).removeClass(i.className)})},off:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),i=t.pluginOptions("hcSticky"),n=t.parent("."+i.wrapperClassName);t.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(i.className),n.css("height","auto")})},on:function(){e(this).each(function(){e(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:n.scrollTop()}}).hcSticky()})},destroy:function(){var t=e(this),i=t.pluginOptions("hcSticky"),s=t.parent("."+i.wrapperClassName);t.removeData("hcStickyInit").css({position:s.css("position"),top:s.css("top"),bottom:s.css("bottom"),left:s.css("left"),right:s.css("right")}).removeClass(i.className),n.off("resize",i.fn.resize).off("scroll",i.fn.scroll),t.unwrap()}}),s&&void 0!==s.on&&(s.on?this.hcSticky("on"):this.hcSticky("off")),"string"==typeof s?this:this.each(function(){var s,l,d,c,h,u,p=e(this),f=p.pluginOptions("hcSticky"),g=0<(u=p.parent("."+f.wrapperClassName)).length&&(u.css({height:p.outerHeight(!0),width:(h=u.style("width"),0<=h.indexOf("%")||"auto"==h?("border-box"==p.css("box-sizing")||"border-box"==p.css("-moz-box-sizing")?p.css("width",u.width()):p.css("width",u.width()-parseInt(p.css("padding-left")-parseInt(p.css("padding-right")))),h):p.outerWidth(!0))}),u)||(l=p.style(["width","margin-left","left","right","top","bottom","float","display"]),d=p.css("display"),c=e("<div>",{class:f.wrapperClassName}).css({display:d,height:p.outerHeight(!0),width:0<=l.width.indexOf("%")||"auto"==l.width&&"inline-block"!=d&&"inline"!=d?(p.css("width",parseFloat(p.css("width"))),l.width):"auto"!=l.width||"inline-block"!=d&&"inline"!=d?"auto"==l["margin-left"]?p.outerWidth():p.outerWidth(!0):p.width(),margin:l["margin-left"]?"auto":null,position:(s=p.css("position"),"static"==s?"relative":s),float:l.float||null,left:l.left,right:l.right,top:l.top,bottom:l.bottom,"vertical-align":"top"}),p.wrap(c),7===r&&0===e("head").find("style#hcsticky-iefix").length&&e('<style id="hcsticky-iefix">.'+f.wrapperClassName+" {zoom: 1;}</style>").appendTo("head"),p.parent());if(!p.data("hcStickyInit")){p.data("hcStickyInit",!0);var m=!(!f.stickTo||!("document"==f.stickTo||f.stickTo.nodeType&&9==f.stickTo.nodeType||"object"==typeof f.stickTo&&f.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),v=f.stickTo?m?o:"string"==typeof f.stickTo?e(f.stickTo):f.stickTo:g.parent();p.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),n.load(function(){p.outerHeight(!0)>v.height()&&(g.css("height",p.outerHeight(!0)),p.hcSticky("reinit"))});var y=function(e){p.hasClass(f.className)||(e=e||{},p.css({position:"fixed",top:e.top||0,left:e.left||g.offset().left}).addClass(f.className),f.onStart.apply(p[0]),g.addClass("sticky-active"))},w=function(e){(e=e||{}).position=e.position||"absolute",e.top=e.top||0,e.left=e.left||0,"fixed"!=p.css("position")&&parseInt(p.css("top"))==e.top||(p.css({position:e.position,top:e.top,left:e.left}).removeClass(f.className),f.onStop.apply(p[0]),g.removeClass("sticky-active"))},b=!1,_=!1,k=function(){if(T(),S(),f.on){if(f.responsive){_||(_=p.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),g.after(_));var e=g.style("width"),t=_.style("width");"auto"==t&&"auto"!=e&&(t=parseInt(p.css("width"))),t!=e&&g.width(t),b&&clearTimeout(b),b=setTimeout(function(){b=!1,_.remove(),_=!1},250)}if("fixed"==p.css("position")?p.css("left",g.offset().left):p.css("left",0),p.outerWidth(!0)!=g.width()){var i="border-box"==p.css("box-sizing")||"border-box"==p.css("-moz-box-sizing")?g.width():g.width()-parseInt(p.css("padding-left"))-parseInt(p.css("padding-right"));i=i-parseInt(p.css("margin-left"))-parseInt(p.css("margin-right")),p.css("width",i)}}};p.pluginOptions("hcSticky",{fn:{scroll:function(t){if(f.on&&p.is(":visible"))if(p.outerHeight(!0)>=v.height())w();else{var i,s=f.innerSticker?e(f.innerSticker).position().top:f.innerTop?f.innerTop:0,o=g.offset().top,r=v.height()-f.bottomEnd+v.offset().top,l=g.offset().top-f.top+s,d=p.outerHeight(!0)+f.bottom,c=n.height(),h=n.scrollTop(),u=p.offset().top,m=u-h;if(void 0!==f.remember&&f.remember){var b=u-f.top-s;c<d-s&&f.followScroll?b<h&&h+c<=b+p.height()&&(f.remember=!1):f.remember.offsetTop>b?h<=b&&(y({top:f.top-s}),f.remember=!1):b<=h&&(y({top:f.top-s}),f.remember=!1)}else l<h?r+f.bottom-(f.followScroll&&c<d?0:f.top)<=h+d-s-(c-(l-s)<d-s&&f.followScroll&&0<(i=d-c-s)?i:0)?w({top:r-d+f.bottom-o}):c<d-s&&f.followScroll?m+d<=c?"down"==a.direction?y({top:c-d}):m<0&&"fixed"==p.css("position")&&w({top:u-(l+f.top-s)-a.distanceY}):"up"==a.direction&&u>=h+f.top-s?y({top:f.top-s}):"down"==a.direction&&c<u+d&&"fixed"==p.css("position")&&w({top:u-(l+f.top-s)-a.distanceY}):y({top:f.top-s}):w()}},resize:k}});var S=function(){if(f.offResolutions){e.isArray(f.offResolutions)||(f.offResolutions=[f.offResolutions]);var t=!0;e.each(f.offResolutions,function(e,i){i<0?n.width()<-1*i&&(t=!1,p.hcSticky("off")):n.width()>i&&(t=!1,p.hcSticky("off"))}),t&&!f.on&&p.hcSticky("on")}};S(),n.on("resize",k);var T=function(){var s=!1;e._data(t,"events").scroll!=i&&e.each(e._data(t,"events").scroll,function(e,t){t.handler==f.fn.scroll&&(s=!0)}),s||(f.fn.scroll(!0),n.on("scroll",f.fn.scroll))};T()}}))}})}(jQuery,this),function(e,t){"use strict";e.fn.extend({pluginOptions:function(t,i,n,s){return this.data(t)||this.data(t,{}),t&&void 0===i?this.data(t).options:"object"==typeof(n=n||i||{})||void 0===n?this.each(function(){var o=e(this);o.data(t).options?o.data(t,e.extend(o.data(t),{options:e.extend(o.data(t).options,n||{})})):(o.data(t,{options:e.extend(i,n||{})}),s&&(o.data(t).commands=s))}):"string"==typeof n?this.each(function(){e(this).data(t).commands[n].call(this)}):this}})}(jQuery),function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',n.appendChild(s.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&t.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var s=e(this).find(t.join(","));(s=(s=s.not("object object")).not(n)).each(function(t){var i=e(this);if(!(0<i.parents(n).length||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var s=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10));if(!i.attr("id")){var o="fitvid"+t;i.attr("id",o)}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*s+"%"),i.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function t(e,t,i){var n,s=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),o=!1,r=function(e){return(r=e)&&r.document&&9===r.document.nodeType?(n=(i=e).document,s=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(s.scrollHeight,o.scrollHeight,s.offsetHeight,o.offsetHeight,s.clientHeight,o.clientHeight)},height:function(){return i.innerHeight||o.clientHeight||s.clientHeight},scrollY:function(){return void 0!==i.pageYOffset?i.pageYOffset:(o||s.parentNode||s).scrollTop}}):(t=e,{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}});var t,i,n,s,o,r}(e),a=r.scrollY(),l={};function d(){var e=Math.round(r.scrollY()),n=r.height(),s=r.scrollHeight();l.scrollY=e,l.lastScrollY=a,l.direction=a<e?"down":"up",l.distance=Math.abs(e-a),l.isOutOfBounds=e<0||s<e+n,l.top=e<=t.offset,l.bottom=s<=e+n,l.toleranceExceeded=l.distance>t.tolerance[l.direction],i(l),a=e,o=!1}function c(){o||(o=!0,n=requestAnimationFrame(d))}var h=!!s&&{passive:!0,capture:!1};return e.addEventListener("scroll",c,h),d(),{destroy:function(){cancelAnimationFrame(n),e.removeEventListener("scroll",c,h)}}}function i(e,t){var n;t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}),function(e,t,i){"use strict";t(".module-more-link").each(function(e){t(this).find("a").on("click",function(e){ione3.sendGAEvent("more-link","click",t(this).attr("href"))})});var n=document.location.protocol+"//"+document.location.hostname;"https:"!==document.location.protocol&&t("body").on("click",'a[href^="http"]:not([href*="'+n+'"])',function(e){var i=t(this).attr("href");ione3.sendGAEvent("outbound","click",i)})}(0,jQuery),function(e,t,i){"use strict";t(".featured-video").length&&t(".featured-video").fitVids()}(0,jQuery),function(e,t,i){"use strict";t(".fsb-toggle").on("click",function(e){e.preventDefault(),t(".fsb-toggle").toggleClass("closed"),t(".footer-share-bar").toggleClass("closed"),t(".footer-share-bar").hasClass("closed")?t(".fsb-toggle .fsb-text").text("open"):t(".footer-share-bar").hasClass("closed")||t(".fsb-toggle .fsb-text").text("close")})}(0,jQuery),function(e,t,i){"use strict";if(t("#header").length){t(document).ready(function(){var i=document.getElementById("header"),n=document.getElementById("secondary-header");t(i).addClass("has-secondary-header-fixed"),void 0!==e.ione3_secondary_header_not_collapse&&("bottom"===e.ione3_secondary_header_not_collapse.position?i.insertBefore(n,i.childNodes[i.childNodes.length-1].nextSibling):i.insertBefore(n,i.childNodes[0])),t.fn.fitVids&&t(".single .post-content, .custom-layout-column, #primary #article").fitVids({customSelector:'iframe[src*="//d.yimg.com"],iframe[src*="//www.dailymotion.com"],object[data*="//cdnapi.kaltura.com"],iframe[src*="//player.theplatform.com"]'})}),t(e).on("load",function(i){var n=document.getElementById("header"),s=document.getElementById("secondary-header"),o=document.getElementById("ad-pushdown"),r=document.getElementById("ione-container"),a=function(){if(s){var e=s.offsetHeight+s.offsetTop;return o&&(e+=o.offsetHeight),e}return o?o.offsetHeight:0}();if(void 0!==e.ione3_secondary_header_not_collapse){a=0;var l=t(".main-header-inner");t(".super-wrapper").css({"padding-top":parseInt(s.offsetHeight+l.height(),10)+"px"}),t(".page .post-super-wrapper").css({"padding-top":parseInt(s.offsetHeight+l.height(),10)+"px"}),t("#infinite-scroll-container").css({"padding-top":parseInt(s.offsetHeight+l.height(),10)+"px"})}var d=new Headroom(n,{offset:a,classes:{initial:"header--initial",pinned:"header--pinned",unpinned:"header--unpinned",top:"header--unfixed",notTop:"header--fixed"},onPin:function(){t(this.elem).trigger("pinned")},onUnpin:function(){t(this.elem).trigger("unpinned")},onTop:function(){r.style.paddingTop=0},onNotTop:function(){r.style.paddingTop=n.offsetHeight+"px"}});void 0===e.ione3_ct_checks&&d.init()});var n,s,o=t(document.getElementById("header")),r=".main-nav__item",a=".main-nav__item-link",l="main-nav__item--focus",d=".main-nav__dropdown a";o.on("mouseenter",r,function(e){var i=t(this),o=i.find("img");clearTimeout(s),i.siblings(".main-nav__item--focus").length?(t(r).removeClass(l),i.addClass(l),ione3.sendGAEvent("main-nav","mouseover",i.find(".main-nav__item-link").text())):n=setTimeout(function(){t(r).removeClass(l),i.addClass(l),ione3.sendGAEvent("main-nav","mouseover",i.find(".main-nav__item-link").text())},500),o.each(function(){var e=t(this);e.attr("src")||e.attr("src",e.data("lazy"))})}).on("mouseleave",r,function(e){var i=t(this);clearTimeout(n),s=setTimeout(function(){i.removeClass(l)},300)}),o.on("focus",a,function(e){t(this).parents(r).addClass(l)}).on("blur",a,function(e){t(this).parents(r).removeClass(l)}).on("click",a,function(e){ione3.sendGAEvent("main-nav","click",t(this).text())}),o.on("focus",d,function(e){t(this).parents(r).addClass(l)}).on("blur",d,function(e){t(this).parents(r).removeClass(l)}).on("click",d,function(e){ione3.sendGAEvent("main-nav-dropdown","click",t(this).attr("href"))})}}(this,jQuery),window.ione3=function(e,t,i){"use strict";var n={"phone-wide":576,wordpress:601,tablet:769,"tablet-wide":1024,desk:1440,"desk-wide":1920};return{hasAdminBar:function(){return"1"===ione3Theme.admin_bar},isIE:function(){return document.all&&document.compatMode||e.navigator.msPointerEnabled},largerThan:function(t){var i=function(e){if(e in n)return n[e]}(t);return e.innerWidth>=i},debounce:function(e,t,i){var n,s,o,r,a,l=Date.now||function(){return(new Date).getTime()},d=function(){var c=l-r;c<t&&0<=c?n=setTimeout(d,t-c):(n=null,i||(a=e.apply(o,s),n||(o=s=null)))};return function(){o=this,s=arguments,r=l;var c=i&&!n;return n||(n=setTimeout(d,t)),c&&(a=e.apply(o,s),o=s=null),a}},doComscore:function(){if("object"==typeof e.comscore&&e.comscore.id){e._comscore=e._comscore||[],e._comscore.push({c1:"2",c2:comscore.id});var t=document.createElement("script"),i=document.getElementsByTagName("script")[0];t.async=!0,t.src=("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",i.parentNode.insertBefore(t,i)}},sendGAPageviewData:function(e,t,i,n,s,o){var r;r={page:s=s.replace(/(https?:\/\/|\/\/)[^\/]+/i,""),title:o,contentGroup1:location.hostname,contentGroup2:e,contentGroup3:t,contentGroup4:i,contentGroup5:n},ga("send","pageview",r),ga("global.send","pageview",r)},sendGAEvent:function(e,t,i){var n={hitType:"event",eventCategory:e,eventAction:t,eventLabel:i,nonInteraction:!0};try{ga("send",n),ga("global.send",n)}catch(e){}},callIris:function(t){var i,n,s,o=o||{},r=e.anvVideo||{};if(""===r.iris_client_token)return!1;function a(e,t){var i="";t&&(i=t),ione3.sendGAEvent("anvato_single",e,i)}n=function(i){try{return AnvatoPlayer(t.pInstance).getCurrentTime(function(t){e.irisCurrentTime=t}),e.irisCurrentTime}catch(i){return 0}},i=function(i){try{return AnvatoPlayer(t.pInstance).getDuration(function(t){e.irisCurrentDuration=t}),e.irisCurrentDuration}catch(i){return 0}},(s={settings:{number:10,player_id:t.pInstance,ssl:!0,player_version:"anvato",client_token:r.iris_client_token,platform:"anvato",platform_id:t.video,start_up_next:!1,end_up_next:!1},iris_buttons:{thumbs_up:!1,thumbs_down:!1,skip_forward:!1,skip_back:!1,skip_on_thumbs_down:!0},debug:!1,global:"iris1"}).player_elements={player_element:document.getElementById(t.pInstance)},e.irisCurrentTime=0,e.irisCurrentDuration=0,e.canSkipVideo=!0,a("setup_1_player_ready"),(o=""===r.iris_client_token?{registerFunction:function(){},registerEvent:function(){},getPlaylist:function(){return[]},emit:function(){},addCallback:{watch:function(){}}}:initializeIrisPlugin(s)).registerFunction("currentTime",n),o.registerFunction("currentDuration",i),o.registerFunction("play",function(e){var i,n;i=e.platform_id,n=e.playback_token,AnvatoPlayer(t.pInstance).play({id:i,token:n})}),o.registerEvent("ENDED"),o.registerEvent("PLAYING"),o.addCallback.watch(function(e){AnvatoPlayer(t.pInstance).getState(function(e){"playingAdContent"!==e&&"pausedAdContent"!==e||o.emit("AD_START")})}),AnvatoPlayer(t.pInstance).setListener(function(s){switch(s.name){case"AD_STARTED":a("setup_5_ad_started"),o.emit("AD_START");break;case"AD_CLICKED":a("ad_clicked"),AnvatoPlayer(t.pInstance).pause();break;case"AD_SKIPPED":a("ad_skipped");break;case"ALL_ADS_COMPLETED":a("setup_6_ad_complete"),o.emit("AD_END");break;case"PLAYING_START":o.emit("PLAYING");break;case"VIDEO_STARTED":a("view_first_frame",s.args[0]);break;case"VIDEO_FIRST_QUARTILE":a("view_quartile_1",s.args[0]);break;case"VIDEO_MID_POINT":a("view_quartile_2",s.args[0]);break;case"VIDEO_THIRD_QUARTILE":a("view_quartile_3",s.args[0]);break;case"VIDEO_COMPLETED":a("view_content_ended",s.args[0]),e.irisCurrentTime=0,e.irisCurrentDuration=0,o.emit("ENDED",{type:"next_auto",percentageWatched:(n()/i()).toFixed(2)});break;case"PLAYER_ERROR":"PLAY920"!==s.args[0]&&a("error",s.args[0]+" - "+s.args[1])}})}}}(this,jQuery),function(e,t,i){"use strict";"/listen-live/"!==location.pathname&&"/listen-live"!==location.pathname||t("a").attr("target","_blank")}(0,jQuery),function(e,t,i){"use strict";function n(i,n){var s={baseURL:e.ione3Gallery.baseURL,onInit:function(){}};this.options=t.extend({},s,n),this.element=i,this.$listicle=t(i),this.$item=t(".ione-listicle__item",this.$listicle),this.galleryTitle=this.$listicle.data("title"),this.galleryURL=this.$listicle.data("gallery-url"),this.baseURL=this.options.baseURL,this.reportedSlides=[],this.init()}n.prototype={init:function(){var i=this;i.$listicle.fitVids(),t(e).on("scroll",_.throttle(function(){i.initEvent()},250)),t("img[data-lazy]",i.$item).each(function(){t(this).attr("src",t(this).data("lazy"))})},initEvent:function(){var i=this,n=t(e).scrollTop(),s=t("#header").outerHeight()+80;i.$item.each(function(e){var o=t(this),r=o.outerHeight(!0),a=o.offset().top,l=a+r,d=o.data("image-id");a<=n+s&&n+s<l&&i.updateURL(d,o)})},slugify:function(e){return _.isUndefined(e)?"":_.isUndefined(e)?"":e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},updateURL:function(i,n){var s,o=this,r=t(e).scrollTop();if(s="media_playlist"===ione3Gallery.gallery_type?o.baseURL+"item/"+i:o.baseURL+"playlist/"+o.slugify(o.galleryTitle)+"/item/"+i,n.addClass("listicle-active").siblings().removeClass("listicle-active"),s!==e.location.href&&"media_playlist"===ione3Gallery.gallery_type&&(history.replaceState?history.replaceState(null,null,s):e.location.href=s),!n.data("state-updated")){if(100<r&&!_.includes(o.reportedSlides,i)){if(o.reportedSlides.push(i),e.ga){ione3Gallery.gallery_type,ga("set",{dimension10:"gallery-nonve",dimension15:null}),ione3.sendGAPageviewData(ione_tag_manager.ga.categories,ione_tag_manager.ga.post_type,ione_tag_manager.ga.tags,ione_tag_manager.ga.author,s,this.galleryTitle);try{PARSELY.beacon.trackPageView({url:o.baseURL,urlref:s,js:1})}catch(i){}}ione3.doComscore(),e._tfa&&e._tfa.push({notify:"action",name:"gallery_view"})}n.data("state-updated",!0),n.siblings().data("state-updated",!1)}},resetURL:function(){this.baseURL!==e.location.href&&(history.pushState?history.pushState(null,null,this.baseURL):location.hash="")}},t.extend(t.fn,{ione3listicle:function(e){return this.each(function(){t.data(this,"ione3_listicle")||t.data(this,"ione3_listicle",new n(this,e))})}}),t(document).ready(function(){t(".ione-listicle").ione3listicle()})}(this,jQuery),function(e,t,i){"use strict";var n=t(document.getElementById("js-mobile-anchor")),s=t(document.getElementById("mobile-anchor-close-box"));n.length&&s.click(function(){n.css("transition-duration",".25s"),n.css("transform","translate(0,100px)"),setTimeout(function(){t("body").removeClass("mobile-anchor-displayed")},300)}),t(document).on("redisplay-mobile-anchor-unit",function(){t(document.getElementById("js-mobile-anchor")).length&&void 0!==e.renderedGptSlots["div-gpt-anchor-ad"]&&(googletag.pubads().refresh([e.renderedGptSlots["div-gpt-anchor-ad"]]),t("body").addClass("mobile-anchor-displayed"),t(document.getElementById("js-mobile-anchor")).css("transition-duration",".25s").css("transform","translate(0,0)"))})}(this,jQuery),function(e,t,i){"use strict";var n="addthis-animated slideInDown at4-show at4-visible visible";t(e).on("load",function(){t("#at-share-dock").removeClass(n).hide()}),t(document).ready(function(){e.ione3Scroll.is_single&&"post"===e.ione3Scroll.post_type&&t(".post-super-wrapper .post").length&&t(e).on("scroll",_.throttle(function(){var i,s;i=t("#at-share-dock"),s=t(".post-super-wrapper .post").first().offset().top,t(e).width()<=979?t(e).scrollTop()>s?i.hasClass("visible")||i.addClass(n).fadeIn():(i.hasClass("at4-show")||i.hasClass("at4-visible"))&&i.removeClass(n).hide():i.removeClass(n).hide()},100))})}(this,jQuery),function(e,t,i){"use strict";var n=t(document.getElementById("menu-toggle")),s=(t(document.getElementById("push-menu__close")),t("body")),o=t(document.getElementById("header")),r=t(document.getElementById("secondary-header")),a=t(document.getElementById("push-menu"));n.on("click",function(i){i.preventDefault(),o.hasClass("header--fixed")&&o.css({position:"absolute",top:t(e).scrollTop()+"px"}),s.addClass("has-push-menu--open"),ione3.sendGAEvent("push-menu","click","open")}),s.on("click",".push-menu-overlay, #menu-close, #push-menu__close",function(){s.removeClass("has-push-menu--open"),ione3.sendGAEvent("push-menu","click","close"),e.setTimeout(function(){o.attr("style","")},400)}),a.find("a").each(function(){t(this).on("focus",function(){s.addClass("has-push-menu--open")})}),r.find("a").each(function(){t(this).on("focus",function(){s.removeClass("has-push-menu--open")})}),o.find("a").each(function(){t(this).on("focus",function(){s.removeClass("has-push-menu--open")})}),Modernizr.touchevents&&(t(document).on("touchmove",".has-push-menu--open",function(e){e.preventDefault()}),t(document).on("touchmove",".push-menu",function(e){e.stopPropagation()})),t(document).on("keyup",function(e){27===e.keyCode&&t(".push-menu-overlay").click()})}(this,jQuery),function(e,t,i){"use strict";t(".ione-scrolltocomments").length&&t(".ione-scrolltocomments").each(function(e){t(this).on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:t("#comments").offset().top-t("#header").outerHeight()-70},500)})})}(0,jQuery),function(e,t,i){"use strict";var n=t(document.getElementById("global-search"));t(document).on("click","#global-search-toggle",function(e){e.preventDefault(),n.toggleClass("-active"),ione3.sendGAEvent("Site Search","click","Open"),t(document).trigger("searchmode:activate")}),t(document).on("click","#global-search-close",function(e){e.preventDefault(),n.removeClass("-active"),ione3.sendGAEvent("Site Search","click","Close"),t(document).trigger("searchmode:deactivate")})}(0,jQuery),function(e,t,i){"use strict";function n(e,i){var n={open:!1,baseURL:ione3Gallery.baseURL,baseID:ione3Scroll.post_id,onInit:function(){}};this.options=t.extend({},n,i),this.element=e,this.$galleryWrap=t(e),this.$gallery=t(".ione-gallery__slideshow",this.$galleryWrap),this.$gallerySidebar=t(".ione-gallery__sidebar",this.$galleryWrap),this.$galleryTitle=t(".ione-gallery__title",this.$galleryWrap),this.$galleryDescription=t(".ione-gallery__description",this.$galleryWrap),this.$galleryClose=t(".ione-gallery__close",this.$galleryWrap),this.galleryNext=this.$gallery.data("next-gallery")||"",this.galleryPrev=this.$gallery.data("prev-gallery")||"",this.galleryTitle=this.$gallery.data("title"),this.galleryDescription=this.$gallery.data("description"),this.galleryCategories=this.$gallery.data("categories"),this.galleryTags=this.$gallery.data("tags"),this.galleryAuthor=this.$gallery.data("author"),this.$galleryShare=t("#ione-gallery-share",this.$galleryWrap),this.galleryURL=this.$gallery.data("gallery-url"),this.baseURL=this.options.baseURL,this.galleryLength=this.$gallery.data("count"),this.galleryType=ione3Gallery.gallery_type,this.$inGallery=t(".in-gallery-ad",this.$galleryWrap),this.baseID=this.options.baseID,this.bannerRefreshed=!1,this.longBannerRefreshed=!1,this.innerRefreshed=!1,this.reportedSlides=[],this.init()}n.prototype={init:function(){var i,n=this;n.options.onInit.call(n),(n.options.open&&ione3.largerThan("tablet-wide")||n.itemRequested()&&ione3.largerThan("tablet-wide"))&&n.open(),"#open-gallery"===e.location.hash&&ione3.largerThan("tablet-wide")&&(n.open(),n.updateURL(n.$gallery.find("> div").eq(0).data("image-id"))),n.createOrDestroy(),t(e).on("resize",function(){n.createOrDestroy(),n.$gallery.slick("setPosition")}),n.$gallery.fitVids(),n.initClicks(),n.initStates(),n.isPlaylist()?n.$galleryWrap.addClass("standalone"):(n.$galleryWrap.addClass("embedded"),0<t(".ione-gallery__mobile-featured").find("img").length?(i=t(".ione-gallery__mobile-featured").find("img").clone()).attr("src",i.data("lazy")).css("opacity",1):i=t('<div class="ione-gallery__mobile-holder"></div>'),i.appendTo(n.$galleryWrap.find(".ione-gallery__mobile-launcher").find(".video-poster")))},initAllBanners:function(){var e=this,t=[];e.bannerRefreshed&&e.longBannerRefreshed||("media_playlist"===e.galleryType||e.options.open||e.itemRequested()?(t=["div-gpt-gallery-long-banner"+e.baseID,"div-gpt-gallery"+e.baseID],e.bannerRefreshed=!0):t=["div-gpt-gallery-long-banner"+e.baseID],e.longBannerRefreshed=!0),ioneAds.refreshSlots(t)},initClicks:function(){var e=this;e.$galleryWrap.on("click",".ione-gallery__mobile-launcher",function(t){t.preventDefault(),e.openMobile()}),e.$galleryWrap.on("click",".ione-gallery__close-mobile",function(t){t.preventDefault(),e.closeMobile()}),e.$galleryWrap.on("click",".skip-ad",function(t){t.preventDefault(),e.adShowNav()}),e.$galleryClose.on("click",function(){e.close()})},initStates:function(){var e=this;e.$galleryWrap.on("click",".ione-gallery__slideshow",function(){ione3.largerThan("tablet-wide")&&(e.$galleryWrap.hasClass("-clicked")||e.toggle())}).on("mouseenter",function(){var t=e.$gallery.outerHeight(!0)+e.$galleryWrap.find(".ione-gallery__main-title").outerHeight(!0)+45;if(ione3.largerThan("tablet-wide"))if(e.$galleryWrap.hasClass("-clicked"))e.$galleryWrap.find(".ione-gallery-inner").attr("style",""),e.$gallerySidebar.css("height","100%");else{if(!e.bannerRefreshed){var i=["div-gpt-gallery"+e.baseID,"div-gpt-inner-gallery"+e.baseID];ioneAds.refreshSlots(i),e.bannerRefreshed=!0}clearTimeout(e.hideTimer),e.displayTimer=setTimeout(function(){e.$galleryWrap.addClass("-hover"),e.$galleryWrap.find(".ione-gallery-inner").height(t)},600)}}).on("mouseleave",function(){e.hideTimer=setTimeout(function(){e.$galleryWrap.removeClass("-hover"),e.$galleryWrap.find(".ione-gallery-inner").attr("style",""),e.$galleryWrap.attr("style","")},600),clearTimeout(e.displayTimer)})},createOrDestroy:function(){ione3.largerThan("tablet-wide")?this.create():this.destroy()},create:function(){var i=this,n=e.$pdk,s=e.anvp;t(e).off("scroll.ione3gallery"),i.$gallery.hasClass("slick-initialized")||(i.$gallery.on("init",function(e){var t=i.$gallery.find(".slick-active"),s=t.data("title")||i.galleryTitle,o=t.data("description")||"",r=parseInt(i.getCurrentSlide(),10);i.updateSlideState(t,s,o,r),0===i.getInitialSlide()&&i.goToPrev(),i.getInitialSlide()===parseInt(i.galleryLength-1,10)&&i.goToNext(),t.find("iframe.tpEmbed").length&&(t.find(".fluid-width-video-wrapper").wrap('<div class="ione-embed-wrap"></div>'),n.controller.addEventListener("OnMediaStart",function(e){n.controller.pause(!0)}))}),i.$gallery.on("afterChange",function(e,t,s){var o=parseInt(s+1,10),r=t.$slides.eq(s),a=r.data("image-id"),l=r.data("title")||i.galleryTitle,d=r.data("description")||"";i.updateURL(a),i.updateSlideState(r,l,d,o),i.$gallery.find(".arrow-prev-gallery").length&&(i.$gallery.find(".arrow-prev-gallery").remove(),i.$gallery.find(".icon-arrow-left").show()),i.$gallery.find(".arrow-next-gallery").length&&(i.$gallery.find(".arrow-next-gallery").remove(),i.$gallery.find(".icon-arrow-right").show()),i.galleryLength===parseInt(s+1,10)&&i.goToNext(o),1===parseInt(s+1,10)&&i.goToPrev(),0===r.has("iframe.tpEmbed").length&&n?n.controller.pause(!0):n&&n.controller.pause(!1)}),i.$gallery.on("beforeChange",function(e,t,o,r){var a=t.$slides.eq(o);i.refreshAds(r,t.$slides.eq(r)),i.resetVideo(a);var l=a.find("iframe[src*=youtu]");l.length&&l.get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");var d=a.find("iframe[src*=vimeo]");if(d.length&&d[0].contentWindow.postMessage('{"method":"pause"}',"*"),0===a.has("iframe.tpEmbed").length&&n&&n.controller.pause(!0),a.has("iframe[id^=anvato]").length&&s){var c=a.find("iframe[id^=anvato]").attr("id");new AnvatoPlayer(c).pause()}}),i.$gallery.slick({lazyLoad:"ondemand",prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',fade:!0,focusOnSelect:!0,initialSlide:i.getInitialSlide(),adaptiveHeight:i.ieSlideFix()}))},destroy:function(){var i=this;i.$galleryWrap.attr("style",""),i.$galleryWrap.find(".ione-gallery-inner").attr("style",""),i.$galleryWrap.removeClass("-hover").removeClass("-clicked"),t("body").css("overflow","auto"),i.$gallery.hasClass("slick-initialized")?i.$gallery.hasClass("slick-initialized")&&(i.$gallery.slick("unslick"),i.$gallery.find("> div").attr("style",""),i.loadLazyImages()):(i.$gallery.find("> div").attr("style",""),i.isPlaylist()&&i.$gallery.find("> div").slice(0,3).each(function(){var e=t(this),n=e.find(".ad"),s=e.find(".gallery-taboola");e.find("img").attr("src")&&e.find("> img").length||(e.find("> img").length&&e.find("img").attr("src",e.find("img").data("lazy")),e.addClass("mobile-loaded"),i.refreshMobileAds(i,n,s))})),i.isPlaylist()&&(t("body").addClass("gallery-not-loaded"),t(e).on("scroll.ione3gallery",e._.throttle(function(){var n=t(e).scrollTop();i.$gallery.find("> div").each(function(s,o){var r=t(this),a=r.outerHeight(!0),l=r.offset().top,d=l+a,c=r.data("image-id");l<=n+160&&n+160<d&&!r.data("state-updated")&&(i.updateURL(c),r.data("state-updated",!0),0<r.index()&&r.index()%ione3Gallery.refresh_anchor==0&&googletag.pubads().refresh([e.renderedGptSlots["div-gpt-anchor"]]),r.siblings().data("state-updated",!1),r.nextAll().slice(0,3).each(function(){var e=t(this),n=e.find(".ad"),s=e.find(".gallery-taboola"),o=e.find(".gallery-outbrain-no-ads");e.find("img").attr("src")&&e.find("> img").length||(e.find("> img").length&&e.find("img").not(".ob-rec-image").attr("src",e.find("img").data("lazy")),setTimeout(function(){e.addClass("mobile-loaded"),e.prev('[data-has-ad="1"]').addClass("next-items-loaded")},2e3),i.refreshMobileAds(i,n,s,o))}),s===i.galleryLength-1&&t("body").removeClass("gallery-not-loaded"))})},250)))},loadLazyImages:function(){this.$gallery.find("img").each(function(){var e=t(this);e.attr("src")||e.not(".ob-rec-image").attr("src",e.data("lazy"))})},toggle:function(){var e=this;ione3.largerThan("tablet-wide")&&(e.$galleryWrap.hasClass("-clicked")?(e.close(),e.$galleryWrap.trigger("mouseenter")):(clearTimeout(e.displayTimer),e.open()),e.$gallery.slick("setPosition"))},openMobile:function(){var i,n=this;n.$galleryWrap.attr("style",""),n.$galleryWrap.find(".ione-gallery-inner").attr("style",""),n.$galleryWrap.addClass("-mobile-clicked"),t("body").css("overflow","hidden"),t(document).one("keydown",function(e){27===e.keyCode&&n.closeMobile()}),n.$gallery.find("> div").slice(0,3).each(function(){var e=t(this),i=e.find(".ad"),s=e.find(".gallery-taboola");e.find("img").attr("src")&&e.find("> img").length||(e.find("> img").length&&e.find("img").not(".ob-rec-image").attr("src",e.find("img").data("lazy")),e.addClass("mobile-loaded"),n.refreshMobileAds(n,i,s))}),i=n.$gallery.find("> div").eq(0).data("image-id"),n.updateURL(i),n.$gallery.find("> div").eq(0).data("state-updated",!0),t(document).trigger("redisplay-mobile-anchor-unit"),n.$galleryWrap.on("scroll",e._.throttle(function(){var i=t(e).scrollTop();n.$gallery.find("> div").each(function(){var e=t(this),s=e.outerHeight(!0),o=e.offset().top,r=o+s,a=e.data("image-id");o<=i+80&&i+80<r&&!e.data("state-updated")&&(n.updateURL(a),e.data("state-updated",!0),0<e.index()&&e.index()%ione3Gallery.refresh_anchor==0&&t(document).trigger("redisplay-mobile-anchor-unit"),e.siblings().data("state-updated",!1),e.nextAll().slice(0,3).each(function(){var e=t(this),i=e.find(".ad"),s=e.find(".gallery-taboola"),o=e.find(".gallery-outbrain-no-ads");e.find("img").attr("src")&&e.find("> img").length||(e.find("> img").length&&e.find("img").not(".ob-rec-image").attr("src",e.find("img").data("lazy")),setTimeout(function(){e.addClass("mobile-loaded"),e.prev('[data-has-ad="1"]').addClass("next-items-loaded")},2e3),n.refreshMobileAds(n,i,s,o))}))})},250))},closeMobile:function(){this.$galleryWrap.removeClass("-mobile-clicked"),t("body").css("overflow","auto"),this.resetURL(),this.$galleryWrap.off("scroll")},open:function(){var e=this;e.initAllBanners(),e.$galleryWrap.attr("style",""),e.$galleryWrap.find(".ione-gallery-inner").attr("style",""),e.$galleryWrap.removeClass("-hover").addClass("-clicked"),t("body").css("overflow","hidden"),e.$gallerySidebar.css("height","100%"),t(document).one("keydown",function(t){27===t.keyCode&&e.close()})},close:function(){this.$galleryWrap.removeClass("-clicked"),t("body").css("overflow","auto"),this.$gallery.hasClass("slick-initialized")&&this.$gallery.slick("setPosition"),this.resetURL()},getCurrentSlide:function(){return this.itemRequested()?this.convertIDtoIndex():parseInt(this.$gallery.find(".slick-active").data("slick-index")+1,10)},itemRequested:function(){return 0<=this.convertIDtoIndex()},slugify:function(e){return _.isUndefined(e)?"":e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},convertIDtoIndex:function(){var t=e.location.href,i=/item\/(\d+)/i.exec(t);if(null===i)return-1;if(i.length){var n=i[1];return parseInt(this.$gallery.find('[data-image-id="'+n+'"]').index(),10)}return-1},getInitialSlide:function(){return this.itemRequested()?this.convertIDtoIndex():0},showThumbnails:function(){return t("body").hasClass("is-cassius")?0:9},ieSlideFix:function(){return!!ione3.isIE()},updateSlideState:function(e,t,i,n){this.updateImageDesc(t,i),this.updateShare(t,n)},resetURL:function(){var e=this;history.pushState?history.pushState(null,null,e.baseURL):location.hash="",e.$galleryShare.length&&e.$galleryShare.find("a").each(function(){t(this).attr("addthis:url",e.baseURL),t(this).attr("addthis:title",e.galleryTitle)})},resetVideo:function(e){var t=e.find("video.wp-video-shortcode");t.length&&(t[0].player.setCurrentTime(0),t[0].player.pause())},updateURL:function(i){var n,s,o=this;n=o.isPlaylist()?encodeURI(o.baseURL+"item/"+i):encodeURI(o.baseURL+"playlist/"+o.slugify(o.galleryTitle)+"/item/"+i),e.location.href!==n&&((ione3.largerThan("tablet-wide")||o.isPlaylist())&&(history.pushState?history.pushState(null,null,n):e.location.href=n),_.includes(o.reportedSlides,i)||(o.reportedSlides.push(i),e.ga&&(s="media_playlist"===o.galleryType?o.galleryType:"embedded_gallery",ione3.sendGAPageviewData(o.galleryCategories,s,o.galleryTags,o.galleryAuthor,n,o.galleryTitle)),ione3.doComscore(),"object"==typeof comscore&&t.ajax(e.comscore.pv+"?"+parseInt(1e13*Math.random())),e._tfa&&e._tfa.push({notify:"action",name:"gallery_view"})))},updateImageDesc:function(e,t){this.$galleryTitle.text(e),this.$galleryDescription.html(t)},adTempHideNav:function(t){var i=this,n=e.ione3Gallery.nav_delay||3e3;i.disableNav(),i.adTimer=setTimeout(function(){i.enableNav()},n)},adShowNav:function(){this.enableNav(),clearTimeout(this.adTimer)},updateShare:function(i,n){this.$galleryShare.length&&this.itemRequested()&&this.$galleryShare.find("a").each(function(){t(this).attr("addthis:url",e.location.href),t(this).attr("addthis:title",i)})},disableNav:function(){this.$galleryWrap.addClass("ad-active")},enableNav:function(){this.$galleryWrap.removeClass("ad-active")},refreshAds:function(e,t){var i=this,n=[];t.data("has-ad")&&(i.adTempHideNav(t),n.push("div-gpt-inner-gallery"+i.baseID)),ione3Gallery.refresh_728===ione3Gallery.refresh_300?0<e&&e%ione3Gallery.refresh_728==0&&n.push("div-gpt-gallery-long-banner"+i.baseID,"div-gpt-gallery"+i.baseID):(0<e&&e%ione3Gallery.refresh_728==0&&n.push("div-gpt-gallery-long-banner"+i.baseID),0<e&&e%ione3Gallery.refresh_300==0&&n.push("div-gpt-gallery"+i.baseID)),n.length&&ioneAds.refreshSlots(n)},refreshMobileAds:function(t,i,n,s){if(i.length&&!i.data("refreshed")&&(ioneAds.refreshSlots(["div-gpt-"+i.data("adId")]),i.data("refreshed",!0)),n.length&&!n.data("refreshed")){var o=n.data("mode"),r=n.data("container"),a=n.data("placement"),l=n.data("target_type");e._taboola=e._taboola||[],e._taboola.push({mode:o,container:r,placement:a,target_type:l}),n.data("refreshed",!0)}if(void 0!==s&&s.length){var d=ione3Gallery.outbrain,c=s.data("widget_id"),h=s.data("template"),u=t.galleryURL;void 0!==d.isTesting&&d.isTesting&&(u=d.testURL);var p=document.createElement("div");p.setAttribute("class","OUTBRAIN"),p.setAttribute("data-widget-id",c),p.setAttribute("data-ob-template",h),p.setAttribute("data-src",u),s.removeClass("gallery-outbrain-no-ads").addClass("gallery-outbrain").html(p),e.OBR.extern.researchWidget()}},isPlaylist:function(){return t("body").hasClass("single-media_playlist")},goToPrev:function(){var i=this;if(""!==i.galleryPrev&&i.isPlaylist()){var n=i.$gallery.find(".icon-arrow-left");n.hide(),n.clone(!1).addClass("arrow-prev-gallery").appendTo(i.$gallery).show(function(){t(this).one("click",function(t){t.preventDefault(),e.location.href=i.galleryPrev+"#open-gallery"})})}},goToNext:function(i){var n=this;if(""!==n.galleryNext){var s=0,o=n.$gallery.find(".icon-arrow-right");o.hide();var r=o.clone(!1);r.addClass("arrow-next-gallery").appendTo(n.$gallery),parseInt(i-1,10)%ione3Gallery.refresh_728!=0&&parseInt(i-1,10)%ione3Gallery.refresh_300!=0||(s=1e3),r.delay(s).show(0,function(){t(this).one("click",function(i){i.preventDefault(),n.isPlaylist()?e.location.href=n.galleryNext+"#open-gallery":t.ajax({url:ajax_url,type:"POST",xhrFields:{withCredentials:!0},data:{action:"retrieve_gallery",security:ione3Gallery.ione3_gallery_nonce,gallery_url:n.galleryNext}}).done(function(i){var s=t(i),o=s.find(".ione-gallery__slideshow"),r=(s.find(".ione-gallery-inner"),o.data("title")),a=n.baseURL+"playlist/"+n.slugify(r),l=o.data("gallery-id");history.pushState?history.pushState(null,null,a):location.href=a,"media_playlist"===n.galleryType?e.ga("set","contentGroup3",n.galleryType):e.ga("set","contentGroup3","embedded_gallery"),e.ga("send","pageview",{page:a,title:r}),e.ga("global.send","pageview",{page:a,title:r}),ione3.doComscore(),"object"==typeof comscore&&t.ajax(e.comscore.pv+"?"+parseInt(1e13*Math.random())),e._tfa&&e._tfa.push({notify:"action",name:"gallery_view"}),n.$galleryWrap.after(s),n.$galleryWrap.remove(),s.ione3gallery({open:!0,baseID:l,onInit:function(){addthis.init()}})}).fail(function(){}).always(function(){})})})}}},t.extend(t.fn,{ione3gallery:function(e){return this.each(function(){t.data(this,"ione3_gallery")||t.data(this,"ione3_gallery",new n(this,e))})}}),t(document).on("ready",function(){t(".ione-gallery").ione3gallery()})}(this,jQuery),function(e,t,i){"use strict";t(document).ready(function(){var i,n,s=!1,o=0,r=[],a=t(document.getElementById("footer")),l=t(".post-super-wrapper").eq(0),d=t(document.getElementById("infinite-scroll-container")),c=t(document.getElementById("ione3-wallpaper"));function h(e){return(e=e.map(function(e){return JSON.stringify(e).replace(/"/g,"")})).join(",")}l.length&&"post"===ione3Scroll.post_type&&ione3Scroll.activated&&ione3Scroll.is_single&&(n=setInterval(function(){s?(a.siblings(".sailthru-signup-widget").css("visibility","hidden"),a.css("visibility","hidden").addClass("loading-footer")):(a.siblings(".sailthru-signup-widget").css("visibility","visible"),a.css("visibility","visible").removeClass("loading-footer"))},50),t(e).on("scroll",_.throttle(function(){var u,p,f,g,m,v=t(e).scrollTop(),y=t(e).height(),w=t("#footer").offset().top-2*y,b=l.outerHeight(!0),k=l.data("permalink"),S=l.data("title");l.hasClass("has-wallpaper-ad")&&(i=!0),w<=v&&!1===s&&(r.length<5?(s=!0,f=(p=t(".post-super-wrapper").eq(r.length)).data("id"),g=p.offset().top+p.outerHeight(!0),-1===t.inArray(f,r)&&r.push(f),m=ione3Scroll.sis_api_url,t.ajax({type:"GET",url:m,dataType:"json",data:{exclude:r,postid:f},success:function(o){var r,l,u,p,f,m,v,y,w,b=0;(r=o.html)&&"0"!==r?(googletag.pubads().updateCorrelator(),p=(u=t.parseHTML(r,document,!0))[0],f=u[4],m=t(p),v=t(f),y=m.data("permalink"),w=m.data("id"),m.data("title"),d.append(u),t(document).trigger("infinite-scroll-render-"+w),!0===i&&m.addClass("has-wallpaper-ad"),l=function(){var e;"undefined"!=typeof instgrm&&instgrm.Embeds&&instgrm.Embeds.process?instgrm.Embeds.process():((e=document.createElement("script")).async=!0,e.defer=!0,e.src="//platform.instagram.com/en_US/embeds.js",document.getElementsByTagName("body")[0].appendChild(e))},"undefined"!=typeof jQuery&&"undefined"!=typeof infiniteScroll&&jQuery(document.body).on("post-load",l),l(),t(".ione-gallery",m).ione3gallery({baseURL:y,baseID:w}),t(".ione-listicle",m).ione3listicle({baseURL:y}),m.fitVids({customSelector:'iframe[src*="//d.yimg.com"],iframe[src*="//www.dailymotion.com"],object[data*="//cdnapi.kaltura.com"],iframe[src*="//player.theplatform.com"]'}),_.isUndefined(e.FB)||FB.XFBML.parse(),v.find('div[data-mode="organic-thumbnails-f"]').each(function(){var i=t(this),n=i.data("mode"),s=i.data("container"),o=i.data("placement"),r=i.data("target_type");i.data("fired")||(e._taboola.push({mode:n,container:s,placement:o,target_type:r}),i.data("fired",!0))}),void 0!==e.OBR&&e.OBR.length&&e.OBR.extern.researchWidget(),t(e).on("scroll",_.debounce(function(){var i,n=m,s=n.outerHeight(!0),o=t(e).scrollTop(),r=n.data("categories"),a=n.data("tags"),l=n.data("posttype"),d=n.data("author"),u=n.data("permalink"),p=n.data("title");i=b<o?n.offset().top+s:n.offset().top+s/2,g<=(b=o)&&o<i&&e.location.href!==u&&(t(document).trigger("posts-loaded"),e.document.title=p,history.pushState?history.pushState(null,p,u):e.location.href=u,u=u.replace(/(https?:\/\/|\/\/)[^\/]+/i,""),r=h(r),a=h(a),ione3.sendGAPageviewData(r,l,a,d,u,p),ione3.sendGAEvent("infinite-scroll","scroll",u),ione3.doComscore(),"object"==typeof comscore&&t.ajax(e.comscore.pv+"?"+parseInt(1e13*Math.random())),t(document).trigger("redisplay-mobile-anchor-unit"),e.addthis.update("share","url",u),e.addthis.update("share","title",p),e.addthis.layers.refresh(),c.hide(),t(".widget_ione-taboola",n).each(function(){var i=t(this).find("> div"),n=i.data("mode"),s=i.data("container"),o=i.data("placement"),r=i.data("target_type");i.data("fired")||(e._taboola.push({mode:n,container:s,placement:o,target_type:r}),i.data("fired",!0))}),t(".ad-single-side",n).find(".taboola").each(function(){var i=t(this).find("> div"),n=i.data("mode"),s=i.data("container"),o=i.data("placement"),r=i.data("target_type");i.data("fired")||(e._taboola.push({mode:n,container:s,placement:o,target_type:r}),i.data("fired",!0))}),e._taboola.push({article:"auto",url:u}),e._taboola.push({flush:!0}))},150)),s=!1):(s=!0,clearInterval(n),a.siblings(".sailthru-signup-widget").css("visibility","visible"),a.css("visibility","visible").removeClass("loading-footer"))}})):(clearInterval(n),a.siblings(".sailthru-signup-widget").css("visibility","visible"),a.css("visibility","visible").removeClass("loading-footer"))),u=o<v?l.offset().top+b:l.offset().top+b/2,(o=v)<u&&e.location.href!==k&&(e.document.title=S,history.pushState?history.pushState(null,S,k):location.hash=k,k=k.replace(/(https?:\/\/|\/\/)[^\/]+/i,""),t(document).trigger("redisplay-mobile-anchor-unit"),e.addthis.update("share","url",k),e.addthis.update("share","title",S),e.addthis.layers.refresh(),c.show())},250)))})}(this,jQuery),function(e,t,i){"use strict";function n(e){var i=t("#header, .io-header");this.stickyContainer=t(e),this.stickyWidgets=t(".third-ad, .ione-sticky-widget"),i.length&&(this.offsetTop=i.offset().top+i.outerHeight()+20),this.stickAds()}n.prototype={offsetTop:0,stickAds:function(){this.stickyWidgets.hcSticky({stickTo:this.stickyContainer,top:this.offsetTop,followScroll:!1,offResolutions:[-1024]}),t(document).trigger("ione-sticky-widgets-loaded")},updateOffset:function(){this.stickyWidgets.hcSticky({top:this.offsetTop+this.getVeOffset()})},getVeOffset:function(){var e=t("#player-wrapper"),i=0;return 0===e.length?0:(e.hasClass("sticky")&&(i=e.outerHeight()),i)}},t(document).ready(function(){var i=new n(".post-wrapper-content, .container-with-sidebar-wrapper");t(e).on("scroll",_.throttle(function(){i.updateOffset()},500))})}(this,jQuery),function(e,t,i){"use strict";t(document).on("click",".ione-tab__tabs li a",function(e){e.preventDefault();var i=t(e.currentTarget),n=t(i.attr("href"));i.parent("li").addClass("-active").siblings("li").removeClass("-active"),i.parent("li").attr("aria-active",!0).siblings("li").attr("aria-active",!1),n.fadeIn().siblings().hide(),n.attr("aria-hidden",!1).siblings().attr("aria-hidden",!0)})}(0,jQuery),function(e,t,i){"use strict";t(document).on("click",".ione-toggle__trigger",function(e){e.preventDefault();var i=t(e.currentTarget).closest(".ione-toggle"),n=i.data("class")+" ione-toggle__expanded"||"ione-toggle__expanded",s=i.find(".ione-toggle__content");s.slideToggle(200,function(){s.is(":visible")?s.attr("aria-hidden","false"):s.attr("aria-hidden","true"),i.toggleClass(n)})}),t(document).on("click",".ione-toggle-triggerlink",function(e){e.preventDefault();var i=t(e.currentTarget).data("name"),n=t('.ione-toggle[data-name="'+i+'"]'),s=n.find(".ione-toggle__content"),o=n.data("class")+" ione-toggle__expanded"||"ione-toggle__expanded";n.length&&(t("html, body").animate({scrollTop:n.offset().top-t("#header").outerHeight()-50},500),s.not(":visible")&&s.slideDown(200,function(){n.addClass(o),s.attr("aria-hidden","false")}))})}(0,jQuery),function(e,t,i){"use strict";var n,s,o=t(".top-slider"),r=t(".newsone-top-slider"),a=t(".video-slider"),l=t(".contributor-slider"),d=t(".photos-slider"),c=t(".quote-slider"),h=t(".superfeature-slider"),u=t(".superfeature-slider-2col"),p=t(".lead-slider"),f=t(".lead-slider-thumbs"),g=t(".smooth-slider"),m=function(){ione3.largerThan("phone-wide")||t("body").hasClass("single")||t("body").hasClass("is-cassius")?o.hasClass("slick-initialized")||(t("body").hasClass("single")?s=n=3:(n=5,s=4),o.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",slidesToShow:n,slidesToScroll:n,responsive:[{breakpoint:1440,settings:{slidesToShow:s,slidesToScroll:s}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:500,settings:{slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0}}]})):t("body").hasClass("single")||o.hasClass("slick-initialized")&&o.slick("unslick")};m(),t(e).on("resize",function(){m()}),r.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:769,settings:{slidesToShow:1,slidesToScroll:1}}]}),a.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0}}]});var v=function(){return t("body").hasClass("is-cassius")?4:l.hasClass("contributor-layout-square")?3:4};l.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",slidesToShow:v(),slidesToScroll:v(),responsive:[{breakpoint:1025,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]}),d.parents(".container-with-sidebar-wrapper").length?d.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",centerMode:!0,centerPadding:"150px",slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{centerPadding:"80px"}},{breakpoint:480,settings:{centerPadding:"60px"}}]}):d.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',lazyLoad:"ondemand",centerMode:!0,centerPadding:"300px",slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{centerPadding:"100px"}},{breakpoint:480,settings:{centerPadding:"60px"}}]}),c.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',slidesToShow:3,lazyLoad:"ondemand",slidesToScroll:3,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]}),h.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',slidesToShow:1,slidesToScroll:1,adaptiveHeight:!1}),u.on("init",function(e){u.addClass("after-init")}),u.slick({prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>',slidesToShow:1,centerMode:!0,centerPadding:"40px",speed:1,dots:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,centerMode:!1}}]}),p.slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,fade:!0,pauseOnHover:!0,adaptiveHeight:!0,asNavFor:".lead-slider-thumbs",prevArrow:'<i class="icon-arrow-left _arrows -left"></i>',nextArrow:'<i class="icon-arrow-right _arrows -right"></i>'});var y=f.find("> div").length;f.slick({asNavFor:".lead-slider",slidesToShow:y,arrows:!1,focusOnSelect:!0}),g.each(function(){var e,i=t(this).find(".pn-Advancer_Left"),n=t(this).find(".pn-Advancer_Right"),s=t(this).find(".smooth-slider-content-wrapper"),o=s.get(0).scrollWidth-t(this).width(),r=!!("ontouchstart"in document.documentElement),a=function(){var e=s.scrollLeft();0===e&&i.fadeOut(200),o===e&&n.fadeOut(200),i.is(":visible")||i.fadeIn(200),n.is(":visible")||n.fadeIn(200)};r||(a(),s.scroll(_.debounce(function(){requestAnimationFrame(a)},50)),n.hover(function(){e=setInterval(function(){s.animate({scrollLeft:"+=50"},100)},100)},function(){clearInterval(e)}),i.hover(function(){e=setInterval(function(){s.animate({scrollLeft:"-=50"},100)},100)},function(){clearInterval(e)}))}),t(".icon-arrow-left",o).on("click",function(e){ione3.sendGAEvent("left","click","SDC")}),t(".icon-arrow-right",o).on("click",function(e){ione3.sendGAEvent("right","click","SDC")}),t(".icon-arrow-left",a).on("click",function(e){ione3.sendGAEvent("left","click","video-widget")}),t(".icon-arrow-right",a).on("click",function(e){ione3.sendGAEvent("right","click","video-widget")}),t(".icon-arrow-left",l).on("click",function(e){ione3.sendGAEvent("left","click","contributor slider item")}),t(".icon-arrow-right",l).on("click",function(e){ione3.sendGAEvent("right","click","contributor slider item")}),t(".icon-arrow-left",h).on("click",function(e){ione3.sendGAEvent("left","click","superfeature slider")}),t(".icon-arrow-right",h).on("click",function(e){ione3.sendGAEvent("right","click","superfeature slider")}),t(".icon-arrow-left",d).on("click",function(e){ione3.sendGAEvent("left","click","ione generic flex photos")}),t(".icon-arrow-right",d).on("click",function(e){ione3.sendGAEvent("right","click","ione generic flex photos")}),t(".icon-arrow-left",p).on("click",function(e){ione3.sendGAEvent("left","click","dynamic lead slider")}),t(".icon-arrow-right",p).on("click",function(e){ione3.sendGAEvent("right","click","dynamic lead slider")})}(this,jQuery),function(e){"use strict";var t="Default";"undefined"!=typeof iOneSocialMenu&&void 0!==iOneSocialMenu.category&&(t=iOneSocialMenu.category),e(".social-menu .menu-item a").each(function(){e(this).attr("target","_blank")}).on("click",function(){var i;i=e(this).parents(".social-menu-footer").length?"Footer":t,"function"==typeof ione3.sendGAEvent&&ione3.sendGAEvent("Follow",e(this).text(),i)})}(jQuery),function(e,t,i){"use strict";var n,s=jQuery(document.getElementById("trending-widget"));s.on("mouseenter",function(){n=setTimeout(function(){s.addClass("trending-widget--expanded")},300)}).on("mouseleave",function(){clearTimeout(n),s.removeClass("trending-widget--expanded")})}(),function(e,t,i){"use strict";var n=t("#video-grid"),s=t("#main-video-player"),o=t("#video-title"),r=t("#video-timestamp"),a=t("#video-excerpt"),l=t("#addthis-placeholder"),d=t("#video-load-more"),c=t("#video-full-post"),h=t("#ad-footer"),u=t("#ad-footer2"),p=t("#ad-sidebar1"),f=!1;n.on("click","a.post-link",function(i){i.preventDefault();var n=t(this),d=n.prop("href"),f=n.data("url"),g=n.data("excerpt"),m=n.find(".post-meta__title").text(),v=n.find(".timestamp").text(),y=t("<div></div>",{class:"addthis_jumbo_share",id:"addthis_jumbo_share","data-url":d,"data-title":m}),w=n.data("post-url"),b=t("<a>",{text:"View full post",href:w,id:"video-full-post",class:"view-more"}),_=t("<a>",{text:m,href:w});s.attr("src",f),o.empty().append(_),a.text(g),a.append(b),r.text(v),c.attr("href",w),l.empty().append(y),"undefined"!=typeof addthis&&addthis.layers.refresh(),t("html, body").animate({scrollTop:s.offset().top-112},1e3),history.pushState(null,m,d),document.title=m,ione3.sendGAPageviewData(ione_tag_manager.ga.categories,"post","","",d,m),ione3.doComscore(),"object"==typeof comscore&&t.ajax(e.comscore.pv+"?"+parseInt(1e13*Math.random())),googletag.pubads().refresh([renderedGptSlots["div-gpt-"+h.data("adId")],renderedGptSlots["div-gpt-"+u.data("adId")],renderedGptSlots["div-gpt-"+p.data("adId")]])}),d.on("click",function(e){if(!0===f)return!1;var i=ione_video_grid_settings.ajax_url,n=d.attr("data-next-page"),s=ione_video_grid_settings.categoryid,o=ione_video_grid_settings.max_pages,r=Number(n)+1,a={action:"load_more_video_hub",category:s,security:ione_video_grid_settings.security,next_page:n};return f=!0,t.ajax({type:"GET",url:i,xhrFields:{withCredentials:!0},data:a,success:function(e){e.data&&d?(t(e.data).insertBefore(d),f=!1,o<r?d.hide():d.attr("data-next-page",r)):d.hide()}}),!1})}(this,jQuery),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){t.Backbone=e(t,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(i){}e(t,exports,n,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,i,n){var s=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.0",t.$=n,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r,a=t.Events={},l=/\s+/,d=function(e,t,n,s,o){var r,a=0;if(n&&"object"==typeof n){void 0!==s&&"context"in o&&void 0===o.context&&(o.context=s);for(r=i.keys(n);a<r.length;a++)t=d(e,t,r[a],n[r[a]],o)}else if(n&&l.test(n))for(r=n.split(l);a<r.length;a++)t=e(t,r[a],s,o);else t=e(t,n,s,o);return t};a.on=function(e,t,i){return this._events=d(c,this._events||{},e,t,{context:i,ctx:this,listening:r}),r&&(((this._listeners||(this._listeners={}))[r.id]=r).interop=!1),this},a.listenTo=function(e,t,n){if(!e)return this;var s=e._listenId||(e._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=r=o[s];a||(this._listenId||(this._listenId=i.uniqueId("l")),a=r=o[s]=new m(this,e));var l=h(e,t,n,this);if(r=void 0,l)throw l;return a.interop&&a.on(t,n),this};var c=function(e,t,i,n){if(i){var s=e[t]||(e[t]=[]),o=n.context,r=n.ctx,a=n.listening;a&&a.count++,s.push({callback:i,context:o,ctx:o||r,listening:a})}return e},h=function(e,t,i,n){try{e.on(t,i,n)}catch(e){return e}};a.off=function(e,t,i){return this._events&&(this._events=d(u,this._events,e,t,{context:i,listeners:this._listeners})),this},a.stopListening=function(e,t,n){var s=this._listeningTo;if(!s)return this;for(var o=e?[e._listenId]:i.keys(s),r=0;r<o.length;r++){var a=s[o[r]];if(!a)break;a.obj.off(t,n,this),a.interop&&a.off(t,n)}return i.isEmpty(s)&&(this._listeningTo=void 0),this};var u=function(e,t,n,s){if(e){var o,r=s.context,a=s.listeners,l=0;if(t||r||n){for(o=t?[t]:i.keys(e);l<o.length;l++){var d=e[t=o[l]];if(!d)break;for(var c=[],h=0;h<d.length;h++){var u=d[h];if(n&&n!==u.callback&&n!==u.callback._callback||r&&r!==u.context)c.push(u);else{var p=u.listening;p&&p.off(t,n)}}c.length?e[t]=c:delete e[t]}return e}for(o=i.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,i){var n=d(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==i&&(t=void 0),this.on(n,t,i)},a.listenToOnce=function(e,t,i){var n=d(p,{},t,i,this.stopListening.bind(this,e));return this.listenTo(e,n)};var p=function(e,t,n,s){if(n){var o=e[t]=i.once(function(){s(t,o),n.apply(this,arguments)});o._callback=n}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),i=Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return d(f,this._events,e,void 0,i),this};var f=function(e,t,i,n){if(e){var s=e[t],o=e.all;s&&o&&(o=o.slice()),s&&g(s,n),o&&g(o,[t].concat(n))}return e},g=function(e,t){var i,n=-1,s=e.length,o=t[0],r=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t);return}},m=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=a.on,m.prototype.off=function(e,t){(this.interop?(this._events=d(u,this._events,e,t,{context:void 0,listeners:void 0}),this._events):(this.count--,0!==this.count))||this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,i.extend(t,a);var v=t.Model=function(e,t){var n=e||{};t=t||{},this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};function y(e,t,i){i=Math.min(Math.max(i,0),e.length);var n,s=Array(e.length-i),o=t.length;for(n=0;n<s.length;n++)s[n]=e[n+i];for(n=0;n<o;n++)e[n+i]=t[n];for(n=0;n<s.length;n++)e[n+o+i]=s[n]}i.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!i.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var s;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n=n||{},!this._validate(s,n))return!1;var o=n.unset,r=n.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var d=this.attributes,c=this.changed,h=this._previousAttributes;for(var u in s)t=s[u],i.isEqual(d[u],t)||a.push(u),i.isEqual(h[u],t)?delete c[u]:c[u]=t,o?delete d[u]:d[u]=t;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!r){a.length&&(this._pending=n);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,d[a[p]],n)}if(l)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&i.clone(this.changed);var t,n=this._changing?this._previousAttributes:this.attributes,s={};for(var o in e){var r=e[o];i.isEqual(n[o],r)||(s[o]=r,t=!0)}return!!t&&s},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=i.extend({parse:!0},e);var t=this,n=e.success;return e.success=function(i){var s=e.parse?t.parse(i,e):i;if(!t.set(s,e))return!1;n&&n.call(e.context,t,i,e),t.trigger("sync",t,i,e)},F(this,e),this.sync("read",this,e)},save:function(e,t,n){var s;null==e||"object"==typeof e?(s=e,n=t):(s={})[e]=t;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(s&&!o){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var r=this,a=n.success,l=this.attributes;n.success=function(e){r.attributes=l;var t=n.parse?r.parse(e,n):e;if(o&&(t=i.extend({},s,t)),t&&!r.set(t,n))return!1;a&&a.call(n.context,r,e,n),r.trigger("sync",r,e,n)},F(this,n),s&&o&&(this.attributes=i.extend({},l,s));var d=this.isNew()?"create":n.patch?"patch":"update";"patch"!=d||n.attrs||(n.attrs=s);var c=this.sync(d,this,n);return this.attributes=l,c},destroy:function(e){function t(){n.stopListening(),n.trigger("destroy",n,n.collection,e)}e=e?i.clone(e):{};var n=this,s=e.success,o=e.wait,r=!(e.success=function(i){o&&t(),s&&s.call(e.context,n,i,e),n.isNew()||n.trigger("sync",n,i,e)});return this.isNew()?i.defer(e.success):(F(this,e),r=this.sync("delete",this,e)),o||t(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||U();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1)}});var w=t.Collection=function(e,t){t=t||{},this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1};i.extend(w.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,_))},remove:function(e,t){t=i.extend({},t);var n=!i.isArray(e);e=n?[e]:e.slice();var s=this._removeModels(e,t);return!t.silent&&s.length&&(t.changes={added:[],merged:[],removed:s},this.trigger("update",this,t)),n?s[0]:s},set:function(e,t){if(null!=e){(t=i.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var n=!i.isArray(e);e=n?[e]:e.slice();var s=t.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var o,r,a=[],l=[],d=[],c=[],h={},u=t.add,p=t.merge,f=t.remove,g=!1,m=this.comparator&&null==s&&!1!==t.sort,v=i.isString(this.comparator)?this.comparator:null;for(r=0;r<e.length;r++){o=e[r];var w=this.get(o);if(w){if(p&&o!==w){var _=this._isModel(o)?o.attributes:o;t.parse&&(_=w.parse(_,t)),w.set(_,t),d.push(w),m&&!g&&(g=w.hasChanged(v))}h[w.cid]||(h[w.cid]=!0,a.push(w)),e[r]=w}else u&&(o=e[r]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),h[o.cid]=!0,a.push(o))}if(f){for(r=0;r<this.length;r++)h[(o=this.models[r]).cid]||c.push(o);c.length&&this._removeModels(c,t)}var k=!1,S=!m&&u&&f;if(a.length&&S?(k=this.length!==a.length||i.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,y(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),y(this.models,l,null==s?this.length:s),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(r=0;r<l.length;r++)null!=s&&(t.index=s+r),(o=l[r]).trigger("add",o,this,t);(g||k)&&this.trigger("sort",this,t),(l.length||c.length||d.length)&&(t.changes={added:l,removed:c,merged:d},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?i.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e=e||{};var n=t.length;return i.isFunction(t)&&(t=t.bind(this)),1===n||i.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=i.extend({parse:!0},e)).success,n=this;return e.success=function(i){var s=e.reset?"reset":"set";n[s](i,e),t&&t.call(e.context,n,i,e),n.trigger("sync",n,i,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){var n=(t=t?i.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var s=this,o=t.success;return t.success=function(e,t,i){n&&s.add(e,i),o&&o.call(i.context,e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,T)},keys:function(){return new S(this,C)},entries:function(){return new S(this,x)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;var n=new(((t=t?i.clone(t):{}).collection=this).model)(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=this.get(e[n]);if(s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var r=this.modelId(s.attributes);null!=r&&delete this._byId[r],t.silent||(t.index=o,s.trigger("remove",s,this,t)),i.push(s),this._removeReference(s,t)}}return i},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var i=this.modelId(e.attributes);null!=i&&(this._byId[i]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var i=this.modelId(e.attributes);null!=i&&delete this._byId[i],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if(t){if(("add"===e||"remove"===e)&&i!==this)return;if("destroy"===e&&this.remove(t,n),"change"===e){var s=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);s!==o&&(null!=s&&delete this._byId[s],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var k="function"==typeof Symbol&&Symbol.iterator;k&&(w.prototype[k]=w.prototype.values);var S=function(e,t){this._collection=e,this._kind=t,this._index=0},T=1,C=2,x=3;k&&(S.prototype[k]=function(){return this}),S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===T)e=t;else{var i=this._collection.modelId(t.attributes);e=this._kind===C?i:[i,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var $=t.View=function(e){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(e,E)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];function P(e,t,n,s){i.each(n,function(i,n){t[n]&&(e.prototype[n]=function(e,t,i,n){switch(t){case 1:return function(){return e[i](this[n])};case 2:return function(t){return e[i](this[n],t)};case 3:return function(t,s){return e[i](this[n],I(t,this),s)};case 4:return function(t,s,o){return e[i](this[n],I(t,this),s,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),e[i].apply(e,t)}}}(t,i,n,s))})}i.extend($.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!(e=e||i.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(i.isFunction(n)||(n=this[n]),n){var s=t.match(A);this.delegate(s[1],s[2],n.bind(this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var I=function(e,t){return i.isFunction(e)?e:i.isObject(e)&&!t._isModel(e)?z(e):i.isString(e)?function(t){return t.get(e)}:e},z=function(e){var t=i.matches(e);return function(e){return t(e.attributes)}};i.each([[w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(e){var t=e[0],n=e[1],s=e[2];t.mixin=function(e){var n=i.reduce(i.functions(e),function(e,t){return e[t]=0,e},{});P(t,e,n,s)},P(t,i,n,s)}),t.sync=function(e,n,s){var o=M[e];i.defaults(s=s||{},{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(s.url||(r.url=i.result(n,"url")||U()),null!=s.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",s.emulateJSON&&(r.data._method=o);var a=s.beforeSend;s.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===r.type||s.emulateJSON||(r.processData=!1);var l=s.error;s.error=function(e,t,i){s.textStatus=t,s.errorThrown=i,l&&l.call(s.context,e,t,i)};var d=s.xhr=t.ajax(i.extend(r,s));return n.trigger("request",n,d,s),d};var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var H=t.Router=function(e){e=e||{},this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,L=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(H.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,n,s){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(s=n,n=""),s=s||this[n];var o=this;return t.history.route(e,function(i){var r=o._extractParameters(e,i);!1!==o.execute(s,r,n)&&(o.trigger.apply(o,["route:"+n].concat(r)),o.trigger("route",n,r),t.history.trigger("route",o,n,r))}),this},execute:function(e,t,i){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(R,"\\$&").replace(j,"(?:$1)?").replace(O,function(e,t){return t?e:"([^/?]+)"}).replace(L,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var D=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,W=/#.*$/;D.started=!1,i.extend(D.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),i.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!D.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var i=this.root;""!==e&&"?"!==e.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+e;e=e.replace(W,"");var s=this.decodeFragment(e);if(this.fragment!==s){if(this.fragment=s,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new D,v.extend=w.extend=H.extend=$.extend=D.extend=function(e,t){var n,s=this;return n=e&&i.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,t),n.prototype=i.create(s.prototype,e),(n.prototype.constructor=n).__super__=s.prototype,n};var U=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var i=t.error;t.error=function(n){i&&i.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t}),window.wp=window.wp||{},function(e){var t="undefined"==typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(t){var i,n={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(s){return(i=i||_.template(e("#tmpl-"+t).html(),n))(s)}}),wp.ajax={settings:t.ajax||{},post:function(e,t){return wp.ajax.send({data:_.isObject(e)?e:_.extend(t||{},{action:e})})},send:function(t,i){var n,s;return _.isObject(t)?i=t:(i=i||{}).data=_.extend(i.data||{},{action:t}),i=_.defaults(i||{},{type:"POST",url:wp.ajax.settings.url,context:this}),(n=(s=e.Deferred(function(t){i.success&&t.done(i.success),i.error&&t.fail(i.error),delete i.success,delete i.error,t.jqXHR=e.ajax(i).done(function(e){"1"!==e&&1!==e||(e={success:!0}),_.isObject(e)&&!_.isUndefined(e.success)?t[e.success?"resolveWith":"rejectWith"](this,[e.data]):t.rejectWith(this,[e])}).fail(function(){t.rejectWith(this,arguments)})})).promise()).abort=function(){return s.jqXHR.abort(),this},n}}}(jQuery),window.wp=window.wp||{},function(e){wp.Backbone={},wp.Backbone.Subviews=function(e,t){this.view=e,this._views=_.isArray(t)?{"":t}:t||{}},wp.Backbone.Subviews.extend=Backbone.Model.extend,_.extend(wp.Backbone.Subviews.prototype,{all:function(){return _.flatten(_.values(this._views))},get:function(e){return e=e||"",this._views[e]},first:function(e){var t=this.get(e);return t&&t.length?t[0]:null},set:function(e,t,i){var n,s;return _.isString(e)||(i=t,t=e,e=""),i=i||{},s=t=_.isArray(t)?t:[t],(n=this.get(e))&&(i.add?_.isUndefined(i.at)?s=n.concat(t):(s=n).splice.apply(s,[i.at,0].concat(t)):(_.each(s,function(e){e.__detach=!0}),_.each(n,function(e){e.__detach?e.$el.detach():e.remove()}),_.each(s,function(e){delete e.__detach}))),this._views[e]=s,_.each(t,function(t){var i=t.Views||wp.Backbone.Subviews,n=t.views=t.views||new i(t);n.parent=this.view,n.selector=e},this),i.silent||this._attach(e,t,_.extend({ready:this._isReady()},i)),this},add:function(e,t,i){return _.isString(e)||(i=t,t=e,e=""),this.set(e,t,_.extend({add:!0},i))},unset:function(e,t,i){var n;return _.isString(e)||(i=t,t=e,e=""),t=t||[],(n=this.get(e))&&(t=_.isArray(t)?t:[t],this._views[e]=t.length?_.difference(n,t):[]),i&&i.silent||_.invoke(t,"remove"),this},detach:function(){return e(_.pluck(this.all(),"el")).detach(),this},render:function(){var e={ready:this._isReady()};return _.each(this._views,function(t,i){this._attach(i,t,e)},this),this.rendered=!0,this},remove:function(e){return e&&e.silent||(this.parent&&this.parent.views&&this.parent.views.unset(this.selector,this.view,{silent:!0}),delete this.parent,delete this.selector),_.invoke(this.all(),"remove"),this._views=[],this},replace:function(e,t){return e.html(t),this},insert:function(e,t,i){var n,s=i&&i.at;return _.isNumber(s)&&(n=e.children()).length>s?n.eq(s).before(t):e.append(t),this},ready:function(){this.view.trigger("ready"),_.chain(this.all()).map(function(e){return e.views}).flatten().where({attached:!0}).invoke("ready")},_attach:function(e,t,i){var n,s=e?this.view.$(e):this.view.$el;return s.length&&(n=_.chain(t).pluck("views").flatten().value(),_.each(n,function(e){e.rendered||(e.view.render(),e.rendered=!0)},this),this[i.add?"insert":"replace"](s,_.pluck(t,"el"),i),_.each(n,function(e){e.attached=!0,i.ready&&e.ready()},this)),this},_isReady:function(){for(var e=this.view.el;e;){if(e===document.body)return!0;e=e.parentNode}return!1}}),wp.Backbone.View=Backbone.View.extend({Subviews:wp.Backbone.Subviews,constructor:function(e){this.views=new this.Subviews(this,this.views),this.on("ready",this.ready,this),this.options=e||{},Backbone.View.apply(this,arguments)},remove:function(){var e=Backbone.View.prototype.remove.apply(this,arguments);return this.views&&this.views.remove(),e},render:function(){var e;return this.prepare&&(e=this.prepare()),this.views.detach(),this.template&&(e=e||{},this.trigger("prepare",e),this.$el.html(this.template(e))),this.views.render(),this},prepare:function(){return this.options},ready:function(){}})}(jQuery);var $=$||jQuery;window.wp=window.wp||{},window.ione=window.ione||{},ione.debug=!0,ione.model={},ione.view={},ione.collections={},ione.log=function(){},ione.log("Loading iOne search"),ione.init=function(){jQuery(document).ready(function(){var e;ione.log("Setting up the search UI."),e=new ione.model.searchFrameState({baseUrl:ioneSearch.baseUrl,ajaxUrl:ioneSearch.ajaxUrl,ajaxNonce:ioneSearch.ajaxNonce}),ione.view.searchframe=new ione.view.searchFrame(e)})},ione.init(),ione.model.searchResult=Backbone.Model.extend({defaults:{selected:!1}}),ione.model.searchResultsLocation=Backbone.Model.extend({}),ione.model.searchResults=Backbone.Model.extend({}),ione.model.searchResultsCollection=Backbone.Model.extend({}),ione.model.searchPagination=Backbone.Model.extend({}),ione.model.searchFrameState=Backbone.Model.extend({defaults:{search:"",searchfocused:!1,searchLoading:!1,selectIndex:-1,currentlySelected:null,maxPages:null,currentPage:1,moveToPage:null},initialize:function(e){ione.log("Initializing the searchFrameState model."),this.baseUrl=e.baseUrl,window.history&&window.history.pushState&&(this.router=new ione.Router({model:this}),Backbone.history.start({pushState:!0}))}}),ione.collections.searchResults=Backbone.Collection.extend({model:ione.model.searchResult,initialize:function(e){ione.log("Initializing searchResults Collection."),this.frameModel=e,this.listenTo(this.frameModel,"search:change",this.fetchAndUpdate),this.listenTo(this.frameModel,"search:change",this.trackSearch),this.listenTo(this.frameModel,"keyboard:next",this.keyboardNext),this.listenTo(this.frameModel,"keyboard:prev",this.keyboardPrev)},keyboardNext:function(){var e=this.frameModel.get("currentlySelected");e!==this.size()-1&&(null===e?e=0:(this.at(e).set({isHovered:""}),e++),ione.log("down:",e),this.updateCurrentlySelected(e),this.frameModel.trigger("collection:change"))},keyboardPrev:function(){var e=this.frameModel.get("currentlySelected");if(null!==e){if(this.at(e).set({isHovered:""}),-1==--e)return this.frameModel.trigger("searchbox:focus"),void this.frameModel.trigger("collection:change");ione.log("currentlySelected:",e),e<0?this.frameModel.trigger("searchbox:focus"):(this.updateCurrentlySelected(e),this.frameModel.trigger("collection:change"))}},updateCurrentlySelected:function(e){this.at(e).set({isHovered:"hover"}),this.frameModel.set("currentlySelected",e)},fetchAndUpdate:function(){var e=this;this.frameModel.set("searchLoading",!0),this.fetch({success:function(t){ione.log("fetch success, triggering collection:change pagination:change"),e.frameModel.set("searchLoading",!1),e.frameModel.trigger("collection:change"),e.frameModel.trigger("pagination:change")}})},trackSearch:function(){var e=this.frameModel.get("search");e.length&&(ione.log("Sent pageview data to Google Analytics."),ione3.sendGAPageviewData(null,null,null,null,document.location.pathname+"?s="+encodeURIComponent(e),"Search: "+e,{dimension7:"search",dimension8:document.location+"?s="+encodeURIComponent(e)}))},sync:function(e,t,i){return ione.log("Syncing search results:"),i.localCache=!0,i.url=this.frameModel.get("ajaxUrl")+"?_ajax_nonce="+this.frameModel.get("ajaxNonce")+"&action=ione3_search&paged="+this.frameModel.get("moveToPage")+"&search="+encodeURI(this.frameModel.get("search")),i.xhrFields={withCredentials:!0},Backbone.sync(e,t,i)},parse:function(e){if(null!=e&&void 0!==e.data.stories)return this.frameModel.set("maxPages",e.data.maxPages),this.frameModel.set("currentPage",e.data.currentPage),e.data.stories}}),ione.View=wp.Backbone.View.extend({inject:function(e){this.render(),$(e).html(this.el),this.views.ready()},injectAfter:function(e){this.render(),$(e).after(this.el),this.views.ready()},prepare:function(){return!_.isUndefined(this.model)&&_.isFunction(this.model.toJSON)?this.model.toJSON():{}}}),ione.view.searchFrame=ione.View.extend({className:"ionesearch-inner",template:wp.template("ionesearch-frame"),initialize:function(e){var t=this;this.model=e,ione.log("Initializing the searchFrame view."),$("#global-search").length&&(this.searchbox=new ione.view.searchBox(e),this.views.add(".ionesearch-box",this.searchbox),this.searchbox.injectAfter(".ionesearch-box-placeholder"),$(document).on("searchmode:activate",function(){t.activateSearch(t),$("body").css("overflow","hidden")}),$(document).on("searchmode:deactivate",function(){$("body").removeAttr("style")}),ione.collections.searchResultsCollection=new ione.collections.searchResults(e),ione.view.searchCollectionView=new ione.view.searchCollection(e),this.views.add(".ionesearch-results-container",ione.view.searchCollectionView),ione.view.searchCollectionView.inject("#ione-searchresults-placeholder"))},activateSearch:function(e){var t;ione.log("activateSearch"),t=e.searchbox.$el.find("input.global-search-field"),ione.log(t[0]),t.val(""),t[0].focus(),this.model.trigger("search:emptied")},render:function(){return _.isEmpty(arguments)||(ione.log("Rendering the searchFrameState view."),wp.Backbone.View.prototype.render.apply(this,arguments),this.views.ready()),this}}),ione.view.searchBox=ione.View.extend({template:wp.template("ionesearch-box"),className:"ionesearch-box",events:{"focus input.global-search-field":"searchFocus","keyup input.global-search-field":"searchKeyboard","keydown input.global-search-field":"searchKeyboard","submit form.ionesearch-box-form":"searchChanged"},initialize:function(e){this.model=e,ione.log("Initializing searchBox View"),this.debouncedTriggerSearch=_.debounce(this.triggerSearch,100),$("body").on("click",".ionesearch-form",function(e){e.stopPropagation()}),this.listenTo(this.model,"search:close",this.debouncedSearchClose),this.listenTo(this.model,"searchbox:focus",this.handleDoFocus),this.listenTo(this.model,"change:searchLoading",this.searchLoadingChanged)},searchLoadingChanged:function(){this.model.get("searchLoading")?this.$el.parent().prepend('<span id="ionesearch-loading" class="ionesearch-loading animated"></span>'):(this.$el.parent().find("#ionesearch-loading").remove(),this.$el.parent().scrollTop(0))},searchFocus:function(){ione.log("searchFocus"),this.model.set("currentlySelected",null),this.model.trigger("search:focus")},searchBlur:function(e){ione.log("searchBlur"),e.model.trigger("search:blur")},debouncedSearchClose:function(){_.delay(this.searchBlur,500,this)},searchChanged:function(e){ione.log("Search changed event."),e.preventDefault(),this.debouncedTriggerSearch()},searchKeyboard:function(e){"keyup"===e.type&&27===e.keyCode?this.debouncedSearchClose():40===e.keyCode||38===e.keyCode?(e.preventDefault(),this.model.trigger("search:keyboard",e)):null===this.model.get("currentlySelected")||37!==e.keyCode&&39!==e.keyCode?3<=this.model.get("search").length&&(9===e.keyCode||16!==e.keyCode&&9===e.keyCode)&&(e.preventDefault(),this.model.trigger("search:keyboard",e)):(e.preventDefault(),this.model.trigger("search:keyboard",e))},triggerSearch:function(){var e;ione.log("searchBox:triggerSearch"),e=this.$el.find("input.global-search-field").prop("value"),this.model.set("search",e),""!==e&&0<e.length?(this.model.set("moveToPage",0),this.model.trigger("search:change")):(ione.log("triggering search:emptied"),this.model.trigger("search:emptied"))},handleDoFocus:function(){ione.log("searchBox::handleDoFocus"),this.model.set("currentlySelected",null),this.$el.find("input").focus()},render:function(){return this.$el.html(this.template(this.model.attributes)),this}}),ione.view.searchCollection=ione.View.extend({tagName:"ul",className:"ionesearch-results",template:wp.template("ionesearch-collection"),events:{keydown:"keyboardNavigation",keyup:"keyboardNavigation"},initialize:function(e){ione.log("Initializing searchCollection"),this.model=e,this.keys=[],this.listenTo(this.model,"search:focus",this.handleSearchBoxFocus),this.listenTo(this.model,"search:blur",this.handleSearchBoxBlur),this.listenTo(this.model,"collection:change",this.handleCollectionChange),this.listenTo(this.model,"search:emptied",this.showInitialState),this.listenTo(this.model,"search:keyboard",this.keyboardNavigation)},keyboardNavigation:function(e){this.keys=[],this.keys[e.keyCode]="keydown"===e.type,this.keys[38]||e.shiftKey&&this.keys[9]?(e.preventDefault(),this.model.trigger("keyboard:prev")):this.keys[40]||this.keys[9]?(e.preventDefault(),this.model.trigger("keyboard:next")):this.keys[32]?(e.preventDefault(),window.location.href=e.target.href||e.srcElement.href):this.keys[27]&&this.model.trigger("search:close")},handleSearchBoxFocus:function(){ione.log("Search box focus."),this.model.get("searchfocused")||(this.$el.show(),this.model.set("searchfocused",!0),""!==this.model.get("search")&&this.model.trigger("search:change"))},addSearchResultView:function(e){this.views.add("#ione-searchresults-stories-placeholder",new ione.view.searchResult({result:e}))},addSearchResultPersonView:function(e){this.views.add("#ione-searchresults-people-placeholder",new ione.view.searchResultPeople({result:e}))},addSearchPaginationView:function(e){this.views.add("#ione-searchpagination-placeholder",new ione.view.searchPagination({frameState:this.model},{result:e}))},handleSearchBoxBlur:function(){ione.log("Handle search blur"),this.model.get("searchfocused")&&(this.$el.parents("div#global-search").removeClass("-active"),$(document).trigger("searchmode:deactivate"),this.model.set("searchfocused",!1))},handleCollectionChange:function(){var e,t,i,n,s;if(ione.log("handleCollectionChange"),this.views.unset(),this.views.render(),e=_.filter(ione.collections.searchResultsCollection.models,function(e){if(_.isUndefined(e.get("position")))return!0}),t=_.filter(ione.collections.searchResultsCollection.models,function(e){if(!_.isUndefined(e.get("position")))return!0}),_.isEmpty(e)&&_.isEmpty(t))return this.$el.empty(),!0;this.$el.html(this.template(this.model.attributes)),i=this.$el.find(".results__stories"),n=this.$el.find(".results__people"),_.isEmpty(e)?i.hide():_.each(e,this.addSearchResultView,this),_.isEmpty(t)?n.hide():_.each(t,this.addSearchResultPersonView,this),!_.isEmpty(t)&&_.isEmpty(e)&&n.css("float","none"),(s={maxPages:this.model.get("maxPages"),currentPage:this.model.get("currentPage"),nextPage:2,previousPage:1}).currentPage<s.maxPages?s.nextPage=s.currentPage+1:s.currentPage===s.maxPages&&(s.nextPage=s.maxPages),1<s.currentPage?s.previousPage=s.currentPage-1:1===s.currentPage&&(s.previousPage=1),this.addSearchPaginationView(s)},showInitialState:function(){ione.log("showInitialState"),ione.collections.searchResultsCollection.reset(),this.$el.empty(),this.views.unset(),this.views.render()},render:function(){return this}}),ione.view.searchResult=ione.View.extend({tagName:"li",className:"ionesearch-result",template:wp.template("ionesearch-result"),initialize:function(e){var t,i=this;ione.log("Initializing ione.view.searchResult."),this.model=new ione.model.searchResult(e.result.attributes||e.result),this.model.attributes.location&&this.$el.addClass("ionesearch-result-location ionesearch-navigable"),(this.model.attributes.title||this.model.attributes.keyword)&&this.$el.addClass("ionesearch-result-story"),this.model.attributes.keyword&&this.$el.addClass("ionesearch-loadmore"),t=this.render,this.render=function(){t.call(this),"hover"===this.model.attributes.isHovered&&_.delay(function(){i.handleDoFocus(i)})}},handleDoFocus:function(e){ione.log("searchResult handleDoFocus"),e.$el.find("a").focus()}}),ione.view.searchResultPeople=ione.View.extend({tagName:"li",className:"ionesearch-result",template:wp.template("ionesearch-result-people"),initialize:function(e){var t,i=this;ione.log("Initializing ione.view.searchResultPeople."),this.model=new ione.model.searchResult(e.result.attributes||e.result),this.model.attributes.location&&this.$el.addClass("ionesearch-result-location ionesearch-navigable"),(this.model.attributes.title||this.model.attributes.keyword)&&this.$el.addClass("ionesearch-result-people"),this.model.attributes.keyword&&this.$el.addClass("ionesearch-loadmore"),t=this.render,this.render=function(){t.call(this),"hover"===this.model.attributes.isHovered&&_.delay(function(){i.handleDoFocus(i)})}},handleDoFocus:function(e){ione.log("searchResultPeople handleDoFocus"),e.$el.find("a").focus()}}),ione.view.searchPagination=ione.View.extend({tagName:"div",className:"ionesearch-pagination-inner",template:wp.template("ionesearch-pagination"),events:{"click .search-nav-button.active":"searchPaginate"},initialize:function(e,t){var i;this.frameState=e.frameState,this.model=new ione.model.searchPagination(t.result.attributes||t.result),i=this.render,this.render=function(){i.call(this)}},searchPaginate:function(e){ione.log("Search paginate event."),this.frameState.set("moveToPage",e.currentTarget.getAttribute("value")),this.frameState.trigger("search:change")}}),ione.Router=Backbone.Router.extend({initialize:function(e){this.model=e.model,this.listenTo(this.model,"change",this.updateUrl)},baseUrl:function(e){return _.memoize(function(){return this.model.get("baseUrl")+e})}}),function(e){var t=function(){var e,t,i,n;"undefined"!=typeof FB&&FB.XFBML?FB.XFBML.parse():((e=document.createElement("div")).id="fb-root",document.getElementsByTagName("body")[0].appendChild(e),t="//connect.facebook.net/"+jpfbembed.locale+"/sdk.js#xfbml=1",jpfbembed.appid&&(t+="&appId="+jpfbembed.appid),t+="&version=v2.3",(i=document.createElement("script")).setAttribute("src",t),(n=document.querySelector("script")).parentNode.insertBefore(i,n))};e.fbAsyncInit=function(){FB.init({appId:jpfbembed.appid,version:"v2.3"}),FB.XFBML.parse()},"undefined"!=typeof infiniteScroll&&document.body.addEventListener("post-load",t),e.addEventListener("load",function(){setTimeout(function(){t()},2200)})}(this),window.addEventListener("load",function(){setTimeout(function(){var e,t,i,n,s,o;e=document,t="script",i="twitter-wjs",s=e.getElementsByTagName(t)[0],o=/^http:/.test(e.location)?"http":"https",e.getElementById(i)||((n=e.createElement(t)).id=i,n.src=o+"://platform.twitter.com/widgets.js",s.parentNode.insertBefore(n,s))},2100)}),function(){var e,t,i=window.ajaxurl||"/wp-admin/admin-ajax.php",n=window.wpcomVipAnalytics;if("undefined"!=typeof XMLHttpRequest&&n&&!((t=~~n.percentToTrack)&&t<100&&~~(100*Math.random()+1)>t)){for(var s in e="action=wpcom_vip_analytics",n)"percentToTrack"!==s&&n.hasOwnProperty(s)&&(e+="&"+encodeURIComponent(s).replace(/%20/g,"+")+"="+encodeURIComponent(n[s]).replace(/%20/g,"+"));"complete"===document.readyState?o.apply():document.addEventListener?document.addEventListener("DOMContentLoaded",o,!1):document.attachEvent&&document.attachEvent("onreadystatechange",o)}function o(){setTimeout(function(){var t;(t=new XMLHttpRequest).open("POST",i,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)},1500)}}(),function(e,t,i,n){e.fn.sonar=function(t,i){return"boolean"==typeof t&&(i=t,t=n),e.sonar(this[0],t,i)};var s=i.body,o="scrollin",r="scrollout",a=function(e,o,r){if(e){s||(s=i.body);var a=e,l=0,d=s.offsetHeight,c=t.innerHeight||i.documentElement.clientHeight||s.clientHeight||0,h=i.documentElement.scrollTop||t.pageYOffset||s.scrollTop||0,u=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==d){if(a.offsetParent)do{l+=a.offsetTop}while(a=a.offsetParent);e.sonarElemTop=l,e.sonarBodyHeight=d}return o=o===n?0:o,!(e.sonarElemTop+(r?0:u)<h-o||e.sonarElemTop+(r?u:0)>h+c+o)}},l={},d=0,c=function(){setTimeout(function(){var t,i,n,s,o,d,c;for(n in l)for(d=0,c=(i=l[n]).length;d<c;d++)t=(s=i[d]).elem,o=a(t,s.px,s.full),(n===r?!o:o)?s.tr||(t[n]?(e(t).trigger(n),s.tr=1):(i.splice(d,1),d--,c--)):s.tr=0},25)},h=function(e,t){e[t]=0},u=function(i,n){var s=n.px,h=n.full,u=n.evt,p=a(i,s,h),f=0;i[u]=1,(u===r?!p:p)&&(setTimeout(function(){e(i).trigger(u===r?r:o)},0),f=1),l[u].push({elem:i,px:s,full:h,tr:f}),d||(e(t).bind("scroll",c),d=1)};e.sonar=a,l[o]=[],e.event.special[o]={add:function(e){var t=e.data||{};this[o]||u(this,{px:t.distance,full:t.full,evt:o})},remove:function(e){h(this,o)}},l[r]=[],e.event.special[r]={add:function(e){var t=e.data||{};this[r]||u(this,{px:t.distance,full:t.full,evt:r})},remove:function(e){h(this,r)}}}(jQuery,window,document),function(e){function t(){e("img[data-lazy-src]").bind("scrollin",{distance:200},function(){i(this)}),e("[data-carousel-extra]").each(function(){e(this).find("img[data-lazy-src]").each(function(){i(this)})})}function i(e){var t=jQuery(e),i=t.attr("data-lazy-src"),n=t.attr("data-lazy-srcset"),s=t.attr("data-lazy-sizes");i&&void 0!==i&&(t.unbind("scrollin").hide().removeAttr("data-lazy-src").removeAttr("data-lazy-srcset").removeAttr("data-lazy-sizes").attr("data-lazy-loaded","true"),e.src=i,n&&(e.srcset=n),s&&(e.sizes=s),t.fadeIn())}t(),e("body").bind("post-load",t)}(jQuery),jQuery(document).ready(function(e,t){var i,n=e("li#wp-admin-bar-blog.menupop, li#wp-admin-bar-newdash.menupop, li#wp-admin-bar-my-account.menupop");e("#wp-admin-bar-new-post-types");n.unbind("mouseenter mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s").on("mouseover",function(t){var i=e(t.target).closest("li.menupop");n.not(i).removeClass("ab-hover"),i.toggleClass("ab-hover")}).on("click touchstart",function(t){var n=e(t.target);i.focusSubMenus(n)||(t.preventDefault(),i.toggleMenu(n))}),i={focusSubMenus:function(e){return!e.closest("ul").hasClass("ab-top-menu")&&(e.closest("li"),!0)},toggleMenu:function(t){var n=t.closest("li.menupop"),s=e("html");e("body").off("click.ab-menu"),e("#wpadminbar li.menupop").not(n).removeClass("ab-active wpnt-stayopen wpnt-show"),n.hasClass("ab-active")?(n.removeClass("ab-active"),s.removeClass("ab-menu-open")):(n.addClass("ab-active"),s.addClass("ab-menu-open"),e("body").on("click.ab-menu",function(t){e(t.target).parents("#wpadminbar").length||(t.preventDefault(),i.toggleMenu(n),e("body").off("click.ab-menu"))}))}}}),function(e){var t="wpcom_masterbar_click",i={"wp-admin-bar-blog":"my_sites","wp-admin-bar-newdash":"reader","wp-admin-bar-ab-new-post":"write_button","wp-admin-bar-my-account":"my_account","wp-admin-bar-notes":"notifications","wp-admin-bar-switch-site":"my_sites_switch_site","wp-admin-bar-blog-info":"my_sites_site_info","wp-admin-bar-site-view":"my_sites_view_site","wp-admin-bar-blog-stats":"my_sites_site_stats","wp-admin-bar-plan":"my_sites_plan","wp-admin-bar-plan-badge":"my_sites_plan_badge","wp-admin-bar-edit-page":"my_sites_manage_site_pages","wp-admin-bar-new-page-badge":"my_sites_manage_add_page","wp-admin-bar-edit-post":"my_sites_manage_blog_posts","wp-admin-bar-new-post-badge":"my_sites_manage_add_post","wp-admin-bar-edit-attachment":"my_sites_manage_media","wp-admin-bar-new-attachment-badge":"my_sites_manage_add_media","wp-admin-bar-comments":"my_sites_manage_comments","wp-admin-bar-edit-jetpack-testimonial":"my_sites_manage_testimonials","wp-admin-bar-new-jetpack-testimonial":"my_sites_manage_add_testimonial","wp-admin-bar-edit-jetpack-portfolio":"my_sites_manage_portfolio","wp-admin-bar-new-jetpack-portfolio":"my_sites_manage_add_portfolio","wp-admin-bar-themes":"my_sites_personalize_themes","wp-admin-bar-cmz":"my_sites_personalize_themes_customize","wp-admin-bar-sharing":"my_sites_configure_sharing","wp-admin-bar-people":"my_sites_configure_people","wp-admin-bar-people-add":"my_sites_configure_people_add_button","wp-admin-bar-plugins":"my_sites_configure_plugins","wp-admin-bar-domains":"my_sites_configure_domains","wp-admin-bar-domains-add":"my_sites_configure_add_domain","wp-admin-bar-blog-settings":"my_sites_configure_settings","wp-admin-bar-legacy-dashboard":"my_sites_configure_wp_admin","wp-admin-bar-followed-sites":"reader_followed_sites","wp-admin-bar-reader-followed-sites-manage":"reader_manage_followed_sites","wp-admin-bar-discover-discover":"reader_discover","wp-admin-bar-discover-search":"reader_search","wp-admin-bar-my-activity-my-likes":"reader_my_likes","wp-admin-bar-user-info":"my_account_user_name","wp-admin-bar-my-profile":"my_account_profile_my_profile","wp-admin-bar-account-settings":"my_account_profile_account_settings","wp-admin-bar-billing":"my_account_profile_manage_purchases","wp-admin-bar-security":"my_account_profile_security","wp-admin-bar-notifications":"my_account_profile_notifications","wp-admin-bar-get-apps":"my_account_special_get_apps","wp-admin-bar-next-steps":"my_account_special_next_steps","wp-admin-bar-help":"my_account_special_help"},n={openSite:function(e){return{clicked:"masterbar_notifications_panel_site",site_id:e.siteId}},openPost:function(e){return{clicked:"masterbar_notifications_panel_post",site_id:e.siteId,post_id:e.postId}},openComment:function(e){return{clicked:"masterbar_notifications_panel_comment",site_id:e.siteId,post_id:e.postId,comment_id:e.commentId}}};function s(e){e=e||{},window._tkq=window._tkq||[],window._tkq.push(["recordEvent",t,e])}e(document).ready(function(){e(".mb-trackable .ab-item:not(div),#wp-admin-bar-notes .ab-item,#wp-admin-bar-user-info .ab-item,.mb-trackable .ab-secondary").on("click touchstart",function(t){var n=e(t.target),o=n.closest("li");if(o){var r=n.attr("ID")||o.attr("ID");if(i.hasOwnProperty(r))s({clicked:i[r]})}})}),e(window).on("message",function(e){var t=!e.data&&e.originalEvent.data?e.originalEvent:e;if("https://widgets.wp.com"===t.origin){var i="string"==typeof t.data?function(e,t){try{return JSON.parse(e)}catch(e){return t}}(t.data,{}):t.data;if("notesIframeMessage"===i.type){var o=n[i.action];o&&s(o(i))}}})}(jQuery);